{"version":3,"file":"bm-player.js","sources":["../node_modules/lottie-web/build/player/lottie.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isnumber.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isstring.js","../node_modules/lodash/isboolean.js","../node_modules/lodash/defaultto.js","../node_modules/lodash/isundefined.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/get.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/identity.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_createFind.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/toFinite.js","../node_modules/lodash/toInteger.js","../node_modules/lodash/findIndex.js","../node_modules/lodash/find.js","../src/event.js","../src/main.js"],"sourcesContent":["(function(root, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(function() {\r\n            return factory(root);\r\n        });\r\n    } else if (typeof module === \"object\" && module.exports) {\r\n        module.exports = factory(root);\r\n    } else {\r\n        root.lottie = factory(root);\r\n        root.bodymovin = root.lottie;\r\n    }\r\n}((window || {}), function(window) {\r\n    \"use strict\";\r\n    var svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = Object.getOwnPropertyNames(Math);\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(n,c,t,d){\r\n    this.type = n;\r\n    this.currentTime = c;\r\n    this.totalTime = t;\r\n    this.direction = d < 0 ? -1:1;\r\n}\r\n\r\nfunction BMCompleteEvent(n,d){\r\n    this.type = n;\r\n    this.direction = d < 0 ? -1:1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(n,c,t,d){\r\n    this.type = n;\r\n    this.currentLoop = t;\r\n    this.totalLoops = c;\r\n    this.direction = d < 0 ? -1:1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(n,f,t){\r\n    this.type = n;\r\n    this.firstFrame = f;\r\n    this.totalFrames = t;\r\n}\r\n\r\nfunction BMDestroyEvent(n,t){\r\n    this.type = n;\r\n    this.target = t;\r\n}\r\n\r\nfunction randomString(length, chars){\r\n    if(chars === undefined){\r\n        chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\r\n    }\r\n    var i;\r\n    var result = '';\r\n    for (i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];\r\n    return result;\r\n}\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createNS(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElementNS(svgNS, type);\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        sz = isNaN(sz) ? 1 : sz;\r\n        if(sx == 1 && sy == 1 && sz == 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        return (x * this.props[0] + y * this.props[4] + this.props[12])+','+(x * this.props[1] + y * this.props[5] + this.props[13]);\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var v = 10000;\r\n        var props = this.props;\r\n        return \"matrix(\" + _rnd(props[0]*v)/v + ',' + _rnd(props[1]*v)/v + ',' + _rnd(props[4]*v)/v + ',' + _rnd(props[5]*v)/v + ',' + _rnd(props[12]*v)/v + ',' + _rnd(props[13]*v)/v + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.0001 && det1 < 0.0001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (keyData){\r\n            var pt1 = keyData.s;\r\n            var pt2 = keyData.e;\r\n            var pt3 = keyData.to;\r\n            var pt4 = keyData.ti;\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(storedData[bezierName]){\r\n                keyData.bezierData = storedData[bezierName];\r\n                return;\r\n            }\r\n            var curveSegments = defaultCurveSegments;\r\n            var k, i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point,lastPoint = null;\r\n            if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                curveSegments = 2;\r\n            }\r\n            var bezierData = new BezierData(curveSegments);\r\n            len = pt3.length;\r\n            for (k = 0; k < curveSegments; k += 1) {\r\n                point = createSizedArray(len);\r\n                perc = k / (curveSegments - 1);\r\n                ptDistance = 0;\r\n                for (i = 0; i < len; i += 1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                }\r\n                ptDistance = bm_sqrt(ptDistance);\r\n                addedLength += ptDistance;\r\n                bezierData.points[k] = new PointData(ptDistance, point);\r\n                lastPoint = point;\r\n            }\r\n            bezierData.segmentLength = addedLength;\r\n            keyData.bezierData = bezierData;\r\n            storedData[bezierName] = bezierData;\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3; // t0*u0*u0 + u0*t0*u0 + u0*u0*t0\r\n        var t0t0u0_3 = t0*t0*u0*3; // t0*t0*u0 + u0*t0*t0 + t0*u0*t0\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        //Math.round(num * 100) / 100\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n            // pts.pt1[i] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            // pts.pt3[i] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            // pts.pt4[i] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            // pts.pt2[i] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n            // pts.pt1[i] =  Math.round((u0*u0*u0* pt1[i] + (t0*u0*u0 + u0*t0*u0 + u0*u0*t0) * pt3[i] + (t0*t0*u0 + u0*t0*t0 + t0*u0*t0)* pt4[i] + t0*t0*t0* pt2[i])* 1000) / 1000;\r\n            // pts.pt3[i] = Math.round((u0*u0*u1*pt1[i] + (t0*u0*u1 + u0*t0*u1 + u0*u0*t1)* pt3[i] + (t0*t0*u1 + u0*t0*t1 + t0*u0*t1)* pt4[i] + t0*t0*t1* pt2[i])* 1000) / 1000;\r\n            // pts.pt4[i] = Math.round((u0*u1*u1* pt1[i] + (t0*u1*u1 + u0*t1*u1 + u0*u1*t1)* pt3[i] + (t0*t1*u1 + u0*t1*t1 + t0*u1*t1)* pt4[i] + t0*t1*t1* pt2[i])* 1000) / 1000;\r\n            // pts.pt2[i] = Math.round((u1*u1*u1* pt1[i] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[i] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[i] + t1*t1*t1* pt2[i])* 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        //getEasingCurve : getEasingCurve,\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    /*function blitPaths(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] /= blitter;\r\n            path.i[i][1] /= blitter;\r\n            path.o[i][0] /= blitter;\r\n            path.o[i][1] /= blitter;\r\n            path.v[i][0] /= blitter;\r\n            path.v[i][1] /= blitter;\r\n        }\r\n    }\r\n\r\n    function blitShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    blitPaths(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            blitPaths(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            blitPaths(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                blitShapes(arr[i].it);\r\n            }else if(arr[i].ty == 'rc'){\r\n                blitProperty(arr[i].p);\r\n                blitProperty(arr[i].s);\r\n            }else if(arr[i].ty == 'st'){\r\n                blitProperty(arr[i].w);\r\n            }else if(arr[i].ty == 'tr'){\r\n                blitProperty(arr[i].p);\r\n                blitProperty(arr[i].sk);\r\n                blitProperty(arr[i].a);\r\n            }else if(arr[i].ty == 'el'){\r\n                blitProperty(arr[i].p);\r\n                blitProperty(arr[i].s);\r\n            }else if(arr[i].ty == 'rd'){\r\n                blitProperty(arr[i].r);\r\n            }else{\r\n\r\n                //console.log(arr[i].ty );\r\n            }\r\n        }\r\n    }\r\n\r\n    function blitText(data, fontManager){\r\n\r\n    }\r\n\r\n    function blitValue(val){\r\n        if(typeof(val) === 'number'){\r\n            val /= blitter;\r\n        } else {\r\n            var i = val.length-1;\r\n            while(i>=0){\r\n                val[i] /= blitter;\r\n                i-=1;\r\n            }\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function blitProperty(data){\r\n        if(!data.k.length){\r\n            data.k = blitValue(data.k);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            data.k = blitValue(data.k);\r\n        } else {\r\n            var i, len = data.k.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(data.k[i].s){\r\n                    //console.log('pre S: ', data.k[i].s);\r\n                    data.k[i].s = blitValue(data.k[i].s);\r\n                    //console.log('post S: ', data.k[i].s);\r\n                }\r\n                if(data.k[i].e){\r\n                    //console.log('pre E: ', data.k[i].e);\r\n                    data.k[i].e = blitValue(data.k[i].e);\r\n                    //console.log('post E: ', data.k[i].e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function blitLayers(layers,comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData)){\r\n                continue;\r\n            }\r\n            blitProperty(layerData.ks.a);\r\n            blitProperty(layerData.ks.p);\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        blitPaths(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                blitPaths(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                blitPaths(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.w = Math.round(layerData.w/blitter);\r\n                layerData.h = Math.round(layerData.h/blitter);\r\n                blitLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                blitShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                blitText(layerData, fontManager);\r\n            }else if(layerData.ty == 1){\r\n                layerData.sh /= blitter;\r\n                layerData.sw /= blitter;\r\n            } else {\r\n            }\r\n        }\r\n    }\r\n\r\n    function blitAnimation(animationData,comps, fontManager){\r\n        blitLayers(animationData.layers,comps, fontManager);\r\n    }*/\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerHTML = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = font + ', '+family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 't' || this.fonts[i].origin === 2){\r\n                if(window.Typekit && window.Typekit.load && this.typekitLoaded === 0){\r\n                    this.typekitLoaded = 1;\r\n                    try{window.Typekit.load({\r\n                        async: true,\r\n                        active: function() {\r\n                            this.typekitLoaded = 2;\r\n                        }.bind(this)\r\n                    });}catch(e){}\r\n                }\r\n                if(this.typekitLoaded === 2) {\r\n                    this.fonts[i].loaded = true;\r\n                }\r\n            } else if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(checkLoadedFonts.bind(this),20);\r\n        }else{\r\n            setTimeout(function(){this.loaded = true;}.bind(this),0);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.className = fontData.fClass;\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = '100px '+ fontData.fFamily;\r\n        return tCanvasHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.loaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.loaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        for(i=0; i<len; i+= 1){\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                var s = createTag('style');\r\n                s.type = \"text/css\";\r\n                s.innerHTML = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                defs.appendChild(s);\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\r\n                var l = createTag('link');\r\n                l.type = \"text/css\";\r\n                l.rel = \"stylesheet\";\r\n                l.href = fontArr[i].fPath;\r\n                defs.appendChild(l);\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\r\n                var sc = createTag('script');\r\n                sc.setAttribute('src',fontArr[i].fPath);\r\n                defs.appendChild(sc);\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        checkLoadedFonts.bind(this)();\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if(console && console.warn) {\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size){\r\n        var fontData = this.getFontByName(fontName);\r\n        var tHelper = fontData.helper;\r\n        //tHelper.textContent = char;\r\n        return tHelper.measureText(char).width*size/100;\r\n        //return tHelper.getComputedTextLength()*size/100;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return 'sans-serif';\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.loaded = false;\r\n        this.initTime = Date.now();\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    Font.prototype.addChars = addChars;\r\n    Font.prototype.addFonts = addFonts;\r\n    Font.prototype.getCharData = getCharData;\r\n    Font.prototype.getFontByName = getFontByName;\r\n    Font.prototype.measureText = measureText;\r\n\r\n    return Font;\r\n\r\n}());\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n\r\n    function interpolateValue(frameNum, previousValue, caching){\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if(this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', previousValue.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length- 1,flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while(flag){\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i+1];\r\n            if(i == len-1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if(i < len - 1){\r\n                i += 1;\r\n            }else{\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen,perc,jLen, j, fnc;\r\n        if(keyData.to){\r\n\r\n            if(!keyData.bezierData){\r\n                bez.buildBezierData(keyData);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if(frameNum >= nextKeyData.t-offsetTime || frameNum < keyData.t-offsetTime){\r\n                var ind = frameNum >= nextKeyData.t-offsetTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for(k = 0; k < kLen; k += 1){\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                caching._lastBezierData = null;\r\n            }else{\r\n                if(keyData.__fnct){\r\n                    fnc = keyData.__fnct;\r\n                }else{\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y,keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum-(keyData.t-offsetTime))/((nextKeyData.t-offsetTime)-(keyData.t-offsetTime)));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastBezierData === bezierData) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastBezierData === bezierData) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while(flag){\r\n                    addedLength +=bezierData.points[j].partialLength;\r\n                    if(distanceInLine === 0 || perc === 0 || j == bezierData.points.length - 1){\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    }else if(distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j+1].partialLength){\r\n                        segmentPerc = (distanceInLine-addedLength)/(bezierData.points[j+1].partialLength);\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j+1].point[k] - bezierData.points[j].point[k])*segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if(j < jLen - 1){\r\n                        j += 1;\r\n                    }else{\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastBezierData = bezierData;\r\n            }\r\n        }else{\r\n            var outX,outY,inX,inY, keyValue;\r\n            len = keyData.s.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(keyData.h !== 1){\r\n                    if(frameNum >= nextKeyData.t-offsetTime){\r\n                        perc = 1;\r\n                    }else if(frameNum < keyData.t-offsetTime){\r\n                        perc = 0;\r\n                    }else{\r\n                        if(keyData.o.x.constructor === Array){\r\n                            if(!keyData.__fnct){\r\n                                keyData.__fnct = [];\r\n                            }\r\n                            if (!keyData.__fnct[i]) {\r\n                                outX = keyData.o.x[i] || keyData.o.x[0];\r\n                                outY = keyData.o.y[i] || keyData.o.y[0];\r\n                                inX = keyData.i.x[i] || keyData.i.x[0];\r\n                                inY = keyData.i.y[i] || keyData.i.y[0];\r\n                                fnc = BezierFactory.getBezierEasing(outX,outY,inX,inY).get;\r\n                                keyData.__fnct[i] = fnc;\r\n                            } else {\r\n                                fnc = keyData.__fnct[i];\r\n                            }\r\n                        } else {\r\n                            if (!keyData.__fnct) {\r\n                                outX = keyData.o.x;\r\n                                outY = keyData.o.y;\r\n                                inX = keyData.i.x;\r\n                                inY = keyData.i.y;\r\n                                fnc = BezierFactory.getBezierEasing(outX,outY,inX,inY).get;\r\n                                keyData.__fnct = fnc;\r\n                            } else{\r\n                                fnc = keyData.__fnct;\r\n                            }\r\n                        }\r\n                        perc = fnc((frameNum-(keyData.t-offsetTime))/((nextKeyData.t-offsetTime)-(keyData.t-offsetTime)));\r\n                    }\r\n                }\r\n                if(this.sh && keyData.h !== 1){\r\n                    var initP = keyData.s[i];\r\n                    var endP = keyData.e[i];\r\n                    if(initP-endP < -180){\r\n                        initP += 360;\r\n                    } else if(initP-endP > 180){\r\n                        initP -= 360;\r\n                    }\r\n                    keyValue = initP+(endP-initP)*perc;\r\n                } else {\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i]+(keyData.e[i]-keyData.s[i])*perc;\r\n                }\r\n                if(len === 1){\r\n                    newValue = keyValue;\r\n                }else{\r\n                    newValue[i] = keyValue;\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    function calculateMultidimensionalValueAtCurrentTime(renderResult) {\r\n        var i = 0;\r\n        while(i<this.v.length){\r\n            this.pv[i] = renderResult[i];\r\n            this.v[i] = this.mult ? this.pv[i] * this.mult : this.pv[i];\r\n            if(this.lastPValue[i] !== this.pv[i]) {\r\n                this._mdf = true;\r\n                this.lastPValue[i] = this.pv[i];\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function calculateUnidimenstionalValueAtCurrentTime(renderResult) {\r\n        this.pv = renderResult;\r\n        this.v = this.mult ? this.pv*this.mult : this.pv;\r\n        if(this.lastPValue != this.pv){\r\n            this._mdf = true;\r\n            this.lastPValue = this.pv;\r\n        }\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        if(this.elem.globalData.frameId === this.frameId){\r\n            return;\r\n        }\r\n        this._mdf = false;\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            this._caching.lastIndex = this._caching.lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            var renderResult = this.interpolateValue(frameNum, this.pv, this._caching);\r\n            this.calculateValueAtCurrentTime(renderResult);\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function getNoValue(){\r\n        this._mdf = false;\r\n    }\r\n\r\n    function ValueProperty(elem,data, mult){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.getValue = getNoValue;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        this.lastValue = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = mult ? data.k[i] * mult : data.k[i];\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this.getValue = getNoValue;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.lastValue = initFrame;\r\n        this.lastPValue = initFrame;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult;\r\n        this.elem = elem;\r\n        this._isFirstFrame = false;\r\n        this.comp = elem.comp;\r\n        this.v = mult ? data.k[0].s[0] * mult : data.k[0].s[0];\r\n        this.pv = data.k[0].s[0];\r\n        this.getValue = getValueAtCurrentTime;\r\n        this.calculateValueAtCurrentTime = calculateUnidimenstionalValueAtCurrentTime;\r\n        this.interpolateValue = interpolateValue;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i].e) {\r\n                s = data.k[i].s;\r\n                e = data.k[i].e;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.getValue = getValueAtCurrentTime;\r\n        this.calculateValueAtCurrentTime = calculateMultidimensionalValueAtCurrentTime;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        this.lastValue = createTypedArray('float32', arrLen);\r\n        this.lastPValue = createTypedArray('float32', arrLen);\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, arr) {\r\n        var p;\r\n        if(data.a === 0){\r\n            if(type === 0) {\r\n                p = new ValueProperty(elem,data,mult);\r\n            } else {\r\n                p = new MultiDimensionalProperty(elem,data, mult);\r\n            }\r\n        } else if(data.a === 1){\r\n            if(type === 0) {\r\n                p = new KeyframedValueProperty(elem,data,mult);\r\n            } else {\r\n                p = new KeyframedMultidimensionalProperty(elem,data, mult);\r\n            }\r\n        } else if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.k){\r\n            arr.push(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    function applyToMatrix(mat) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.dynamicProperties[i].getValue();\r\n            if (this.dynamicProperties[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n\r\n        this._mdf = false;\r\n        var i, len = this.dynamicProperties.length;\r\n\r\n        for(i = 0; i < len; i += 1) {\r\n            this.dynamicProperties[i].getValue();\r\n            if (this.dynamicProperties[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.reset();\r\n            if (this.a) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.s) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r) {\r\n                this.v.rotate(-this.r.v);\r\n            } else {\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented && this.p.keyframes && this.p.getValueAtTime) {\r\n                var v1,v2;\r\n                if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                    v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / this.elem.globalData.frameRate,0);\r\n                    v2 = this.p.getValueAtTime(this.p.keyframes[0].t / this.elem.globalData.frameRate, 0);\r\n                } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                    v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / this.elem.globalData.frameRate), 0);\r\n                    v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.01) / this.elem.globalData.frameRate, 0);\r\n                } else {\r\n                    v1 = this.p.pv;\r\n                    v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / this.elem.globalData.frameRate, this.p.offsetTime);\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function setInverted(){\r\n        this.inverted = true;\r\n        this.iv = new Matrix();\r\n        if(!this.k){\r\n            if(this.data.p.s){\r\n                this.iv.translate(this.px.v,this.py.v,-this.pz.v);\r\n            }else{\r\n                this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n            if(this.r){\r\n                this.iv.rotate(-this.r.v);\r\n            }else{\r\n                this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n            }\r\n            if(this.s){\r\n                this.iv.scale(this.s.v[0],this.s.v[1],1);\r\n            }\r\n            if(this.a){\r\n                this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);\r\n            }\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function TransformProperty(elem,data,arr){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.dynamicProperties = [];\r\n        this._mdf = false;\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        if(data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this.dynamicProperties);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this.dynamicProperties);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this.dynamicProperties);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\r\n        }\r\n        if(data.r) {\r\n            this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this.dynamicProperties);\r\n        } else if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this.dynamicProperties);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this.dynamicProperties);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this.dynamicProperties);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this.dynamicProperties);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this.dynamicProperties);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this.dynamicProperties);\r\n        }\r\n        if(data.a) {\r\n            this.a = PropertyFactory.getProp(elem,data.a,1,0,this.dynamicProperties);\r\n        }\r\n        if(data.s) {\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0.01,this.dynamicProperties);\r\n        }\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,arr);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        if(this.dynamicProperties.length){\r\n            arr.push(this);\r\n        }else{\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype.applyToMatrix = applyToMatrix;\r\n    TransformProperty.prototype.getValue = processKeys;\r\n    TransformProperty.prototype.setInverted = setInverted;\r\n    TransformProperty.prototype.autoOrient = autoOrient;\r\n\r\n    function getTransformProperty(elem,data,arr){\r\n        return new TransformProperty(elem,data,arr);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, isCurrentRender, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue, hasModified = false;\r\n        if(frameNum < this.keyframes[0].t-this.offsetTime){\r\n            keyPropS = this.keyframes[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= this.keyframes[this.keyframes.length - 1].t-this.offsetTime){\r\n            if(this.keyframes[this.keyframes.length - 2].h === 1){\r\n                keyPropS = this.keyframes[this.keyframes.length - 1].s[0];\r\n            }else{\r\n                keyPropS = this.keyframes[this.keyframes.length - 2].e[0];\r\n            }\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = this.keyframes.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = this.keyframes[i];\r\n                nextKeyData = this.keyframes[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                if(previousValue.i[j][k] !== vertexValue){\r\n                    previousValue.i[j][k] = vertexValue;\r\n                    if(isCurrentRender) {\r\n                        this.pv.i[j][k] = vertexValue;\r\n                    }\r\n                    hasModified = true;\r\n                }\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                if(previousValue.o[j][k] !== vertexValue){\r\n                    previousValue.o[j][k] = vertexValue;\r\n                    if(isCurrentRender) {\r\n                        this.pv.o[j][k] = vertexValue;\r\n                    }\r\n                    hasModified = true;\r\n                }\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                if(previousValue.v[j][k] !== vertexValue){\r\n                    previousValue.v[j][k] = vertexValue;\r\n                    if(isCurrentRender) {\r\n                        this.pv.v[j][k] = vertexValue;\r\n                    }\r\n                    hasModified = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return hasModified;\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        if(this.elem.globalData.frameId === this.frameId){\r\n            return;\r\n        }\r\n        this._mdf = false;\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            var hasModified = this.interpolateShape(frameNum, this.v, true, this._caching);\r\n            ////\r\n            this._mdf = hasModified;\r\n            if(hasModified) {\r\n                this.paths = this.localShapeCollection;\r\n            }\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function getShapeValue(){\r\n        return this.v;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n        if(!this.k){\r\n            this._mdf = false;\r\n        }\r\n    }\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n    }\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = getShapeValue;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = interpolateShapeCurrentTime;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function convertEllToPath(){\r\n            var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n            var _cw = this.d !== 3;\r\n            var _v = this.v;\r\n            if(this.d !== 3){\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        function processKeys(frameNum){\r\n            var i, len = this.dynamicProperties.length;\r\n            if(this.elem.globalData.frameId === this.frameId){\r\n                return;\r\n            }\r\n            this._mdf = false;\r\n            this.frameId = this.elem.globalData.frameId;\r\n\r\n            for(i=0;i<len;i+=1){\r\n                this.dynamicProperties[i].getValue(frameNum);\r\n                if(this.dynamicProperties[i]._mdf){\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n            if(this._mdf){\r\n                this.convertEllToPath();\r\n            }\r\n        }\r\n\r\n        return function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.dynamicProperties = [];\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this._mdf = false;\r\n            this.getValue = processKeys;\r\n            this.convertEllToPath = convertEllToPath;\r\n            this.reset = resetShape;\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this.dynamicProperties);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function convertPolygonToPath(){\r\n            var numPts = Math.floor(this.pt.v);\r\n            var angle = Math.PI*2/numPts;\r\n            /*this.v.v.length = numPts;\r\n            this.v.i.length = numPts;\r\n            this.v.o.length = numPts;*/\r\n            var rad = this.or.v;\r\n            var roundness = this.os.v;\r\n            var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n            var i, currentAng = -Math.PI/ 2;\r\n            var dir = this.data.d === 3 ? -1 : 1;\r\n            currentAng += this.r.v;\r\n            this.v._length = 0;\r\n            for(i=0;i<numPts;i+=1){\r\n                var x = rad * Math.cos(currentAng);\r\n                var y = rad * Math.sin(currentAng);\r\n                var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                x +=  + this.p.v[0];\r\n                y +=  + this.p.v[1];\r\n                this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                /*this.v.v[i] = [x,y];\r\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];*/\r\n                currentAng += angle*dir;\r\n            }\r\n            this.paths.length = 0;\r\n            this.paths[0] = this.v;\r\n        }\r\n\r\n        function convertStarToPath() {\r\n            var numPts = Math.floor(this.pt.v)*2;\r\n            var angle = Math.PI*2/numPts;\r\n            /*this.v.v.length = numPts;\r\n            this.v.i.length = numPts;\r\n            this.v.o.length = numPts;*/\r\n            var longFlag = true;\r\n            var longRad = this.or.v;\r\n            var shortRad = this.ir.v;\r\n            var longRound = this.os.v;\r\n            var shortRound = this.is.v;\r\n            var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n            var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n            var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n            currentAng += this.r.v;\r\n            var dir = this.data.d === 3 ? -1 : 1;\r\n            this.v._length = 0;\r\n            for(i=0;i<numPts;i+=1){\r\n                rad = longFlag ? longRad : shortRad;\r\n                roundness = longFlag ? longRound : shortRound;\r\n                perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                var x = rad * Math.cos(currentAng);\r\n                var y = rad * Math.sin(currentAng);\r\n                var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                x +=  + this.p.v[0];\r\n                y +=  + this.p.v[1];\r\n                this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                /*this.v.v[i] = [x,y];\r\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                this.v._length = numPts;*/\r\n                longFlag = !longFlag;\r\n                currentAng += angle*dir;\r\n            }\r\n        }\r\n\r\n        function processKeys() {\r\n            if(this.elem.globalData.frameId === this.frameId){\r\n                return;\r\n            }\r\n            this._mdf = false;\r\n            this.frameId = this.elem.globalData.frameId;\r\n            var i, len = this.dynamicProperties.length;\r\n\r\n            for(i=0;i<len;i+=1){\r\n                this.dynamicProperties[i].getValue();\r\n                if(this.dynamicProperties[i]._mdf){\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n            if(this._mdf){\r\n                this.convertToPath();\r\n            }\r\n        }\r\n\r\n        return function StarShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: [],\r\n                i: [],\r\n                o: [],\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.dynamicProperties = [];\r\n            this._mdf = false;\r\n            this.getValue = processKeys;\r\n            this.reset = resetShape;\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this.dynamicProperties);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this.dynamicProperties);\r\n                this.convertToPath = convertStarToPath;\r\n            } else {\r\n                this.convertToPath = convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this.dynamicProperties);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this.dynamicProperties);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this.dynamicProperties);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this.dynamicProperties);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.convertToPath();\r\n            }\r\n        };\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n        function processKeys(frameNum){\r\n            if(this.elem.globalData.frameId === this.frameId){\r\n                return;\r\n            }\r\n            this._mdf = false;\r\n            this.frameId = this.elem.globalData.frameId;\r\n            var i, len = this.dynamicProperties.length;\r\n\r\n            for(i=0;i<len;i+=1){\r\n                this.dynamicProperties[i].getValue(frameNum);\r\n                if(this.dynamicProperties[i]._mdf){\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n            if(this._mdf){\r\n                this.convertRectToPath();\r\n            }\r\n\r\n        }\r\n\r\n        function convertRectToPath(){\r\n            var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n            var round = bm_min(v0,v1,this.r.v);\r\n            var cPoint = round*(1-roundCorner);\r\n            this.v._length = 0;\r\n\r\n            if(this.d === 2 || this.d === 1) {\r\n                this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                if(round!== 0){\r\n                    this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                    this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                    this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                    this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                    this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                    this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                } else {\r\n                    this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                    this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                }\r\n            }else{\r\n                this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                if(round!== 0){\r\n                    this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                    this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                    this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                    this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                    this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                    this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                    this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                } else {\r\n                    this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                    this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                    this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        return function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.dynamicProperties = [];\r\n            this._mdf = false;\r\n            this.getValue = processKeys;\r\n            this.convertRectToPath = convertRectToPath;\r\n            this.reset = resetShape;\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this.dynamicProperties);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this.dynamicProperties);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type, arr){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(dataProp.a === 1 || keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            arr.push(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data, dynamicProperties){\r\n        return new modifiers[nm](elem, data, dynamicProperties);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if(!this.closed){\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data,dynamicProperties){\r\n    this.dynamicProperties = [];\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this._mdf = false;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n        dynamicProperties.push(this);\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this._mdf = false;\r\n    var i, len = this.dynamicProperties.length;\r\n\r\n    for(i=0;i<len;i+=1){\r\n        this.dynamicProperties[i].getValue();\r\n        if(this.dynamicProperties[i]._mdf){\r\n            this._mdf = true;\r\n        }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n};\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this.dynamicProperties);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this.dynamicProperties);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this.dynamicProperties);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = this.s.v + o;\r\n        e = this.e.v + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            if (shapeData.shape.v.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this.dynamicProperties);\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this.dynamicProperties);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this.dynamicProperties);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this.dynamicProperties);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData, dynamicProperties) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.dynamicProperties = [];\r\n    this.frameId = -1;\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n        dynamicProperties.push(this);\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len ; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":0,\"ix\":6,\"k\":0},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, dynamicProperties) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this._mdf = false;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length - 1);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    var i, len = data.length, prop;\r\n    for(i=0;i<len;i+=1){\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, dynamicProperties);\r\n        this.k = prop.k ? true : this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(this.k){\r\n        dynamicProperties.push(this);\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    var i = 0, len = this.dataProps.length;\r\n    this._mdf = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n    while(i<len){\r\n        if(this.dataProps[i].p._mdf){\r\n            this._mdf = !forceRender;\r\n            break;\r\n        }\r\n        i+=1;\r\n    }\r\n    if(this._mdf || forceRender){\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nfunction GradientProperty(elem,data,arr){\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,[]);\r\n    this.data = data;\r\n    this.k = this.prop.k;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this._mdf = false;\r\n    if(this.prop.k){\r\n        arr.push(this);\r\n    }\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\nvar ImagePreloader = (function(){\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData){\r\n        var path = '';\r\n        if(this.assetsPath){\r\n            var imagePath = assetData.p;\r\n            if(imagePath.indexOf('images/') !== -1){\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = this.assetsPath + imagePath;\r\n        } else {\r\n            path = this.path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function loadImage(path){\r\n        var img = createTag('img');\r\n        img.addEventListener('load', imageLoaded.bind(this), false);\r\n        img.addEventListener('error', imageLoaded.bind(this), false);\r\n        img.src = path;\r\n    }\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        this.totalAssets = assets.length;\r\n        var i;\r\n        for(i=0;i<this.totalAssets;i+=1){\r\n            if(!assets[i].layers){\r\n                loadImage.bind(this)(getAssetsPath.bind(this)(assets[i]));\r\n                this.totalImages += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n    }\r\n\r\n    return function ImagePreloader(){\r\n        this.loadAssets = loadAssets;\r\n        this.setAssetsPath = setAssetsPath;\r\n        this.setPath = setPath;\r\n        this.destroy = destroy;\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalAssets = 0;\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n    };\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._mdf = false;\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._dynamicProperties = [];\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n\tthis._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(dynamicProperties){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this._dynamicProperties);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this._dynamicProperties),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this._dynamicProperties),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this._dynamicProperties);\r\n    if(this._dynamicProperties.length) {\r\n    \tdynamicProperties.push(this);\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var pathData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                pathData = {\r\n                    s: paths.v[i],\r\n                    e: paths.v[i + 1],\r\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n                    ti: [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]\r\n                };\r\n                bez.buildBezierData(pathData);\r\n                pathInfo.tLength += pathData.bezierData.segmentLength;\r\n                pathInfo.segments.push(pathData);\r\n                totalLength += pathData.bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                pathData = {\r\n                    s: paths.v[i],\r\n                    e: paths.v[0],\r\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n                    ti: [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]\r\n                };\r\n                bez.buildBezierData(pathData);\r\n                pathInfo.tLength += pathData.bezierData.segmentLength;\r\n                pathInfo.segments.push(pathData);\r\n                totalLength += pathData.bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].bezierData.points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].bezierData.points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].bezierData.points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw,letterSc,letterFc,letterM = '',letterP = this.defaultPropsArray,letterO;\r\n    for( i = 0; i < len; i += 1) {\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].bezierData.points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].bezierData.points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].bezierData.points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            currentLength += animatorProps.t*mult[0];\r\n                        } else {\r\n                            currentLength += animatorProps.t*mult;\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            xPos += animatorProps.t.v*mult[0];\r\n                        } else {\r\n                            xPos += animatorProps.t.v*mult;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n\tvar i, len = this._dynamicProperties.length;\r\n    this._mdf = false;\r\n\tfor(i = 0; i < len; i += 1) {\r\n\t\tthis._dynamicProperties[i].getValue();\r\n        this._mdf = this._dynamicProperties[i]._mdf || this._mdf;\r\n\t}\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nfunction TextAnimatorDataProperty(elem, animatorProps, dynamicProperties) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, dynamicProperties) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, dynamicProperties) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, dynamicProperties) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, dynamicProperties) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, dynamicProperties) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, dynamicProperties) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, dynamicProperties) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, dynamicProperties) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, dynamicProperties) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, dynamicProperties) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, dynamicProperties) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, dynamicProperties) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, dynamicProperties) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, dynamicProperties) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, dynamicProperties) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, dynamicProperties) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, dynamicProperties);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data, dynamicProperties){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = true;\r\n\tthis.data = data;\r\n\tthis.elem = elem;\r\n\tthis.keysIndex = -1;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: [0,0],\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:[0,0],\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        __complete: false,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0\r\n\r\n\t};\r\n\tif(this.searchProperty()) {\r\n\t\tdynamicProperties.push(this);\r\n\t} else {\r\n\t\tthis.getValue(true);\r\n\t}\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n\t\tvar currentData = this.currentData;\r\n        currentData.ascent = data.ascent;\r\n        currentData.boxWidth = data.boxWidth ? data.boxWidth : currentData.boxWidth;\r\n        currentData.f = data.f;\r\n        currentData.fStyle = data.fStyle;\r\n        currentData.fWeight = data.fWeight;\r\n        currentData.fc = data.fc;\r\n        currentData.j = data.j;\r\n        currentData.justifyOffset = data.justifyOffset;\r\n        currentData.l = data.l;\r\n        currentData.lh = data.lh;\r\n        currentData.lineWidths = data.lineWidths;\r\n        currentData.ls = data.ls;\r\n        currentData.of = data.of;\r\n        currentData.s = data.s;\r\n        currentData.sc = data.sc;\r\n        currentData.sw = data.sw;\r\n        currentData.sz = data.sz;\r\n        currentData.ps = data.ps;\r\n        currentData.t = data.t;\r\n        currentData.tr = data.tr;\r\n        currentData.fillColorAnim = data.fillColorAnim || currentData.fillColorAnim;\r\n        currentData.strokeColorAnim = data.strokeColorAnim || currentData.strokeColorAnim;\r\n        currentData.strokeWidthAnim = data.strokeWidthAnim || currentData.strokeWidthAnim;\r\n        currentData.yOffset = data.yOffset;\r\n        currentData.finalSize = data.finalSize;\r\n        currentData.finalLineHeight = data.finalLineHeight;\r\n        currentData.finalText = data.finalText;\r\n        currentData.__complete = false;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n\tthis.kf = this.data.d.k.length > 1;\r\n\treturn this.kf;\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_forceRender) {\r\n\tthis._mdf = false;\r\n\tvar frameId = this.elem.globalData.frameId;\r\n\tif((frameId === this._frameId || !this.kf) && !this._isFirstFrame && !_forceRender) {\r\n\t\treturn;\r\n\t}\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n    \tif(!textDocumentData.__complete) {\r\n            this.completeTextData(textDocumentData);\r\n        }\r\n        this.setCurrentData(textDocumentData);\r\n        this._mdf = !this._isFirstFrame;\r\n        this.pv = this.v = this.currentData.t;\r\n        this.keysIndex = i;\r\n    }\r\n\tthis._frameId = frameId;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    while (i < len) {\r\n        if (combinedCharacters.indexOf(text.charCodeAt(i)) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            charactersArray.push(text.charAt(i));\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle.split(' ');\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    len = documentData.t.length;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(finalText[i].charCodeAt(0) === 13){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        if(currentChar === ' '){\r\n            val = '\\u00A0';\r\n        }else if(currentChar.charCodeAt(0) === 13){\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = documentData.finalText[i];\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === '\\u00A0' || i === len - 1){\r\n                if(val === '' || val === '\\u00A0'){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== '\\u00A0') || (based == 3 && (letterData.n || letterData.val == '\\u00A0' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.data.d.k[index].s;\r\n    for(var s in newData) {\r\n        dData[s] = newData[s];\r\n    }\r\n    this.recalculate(index);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = -1;\r\n    this.getValue(true);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n    function updateRange(newCharsFlag){\r\n        this._mdf = newCharsFlag || false;\r\n        if(this.dynamicProperties.length){\r\n            var i, len = this.dynamicProperties.length;\r\n            for(i=0;i<len;i+=1){\r\n                this.dynamicProperties[i].getValue();\r\n                if(this.dynamicProperties[i]._mdf){\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n        var totalChars = this.data.totalChars || this.elem.textProperty.currentData.l.length || 0;\r\n        if(newCharsFlag && this.data.r === 2) {\r\n            this.e.v = totalChars;\r\n        }\r\n        var divisor = this.data.r === 2 ? 1 : 100 / totalChars;\r\n        var o = this.o.v/divisor;\r\n        var s = this.s.v/divisor + o;\r\n        var e = (this.e.v/divisor) + o;\r\n        if(s>e){\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        this.finalS = s;\r\n        this.finalE = e;\r\n    }\r\n\r\n    function getMult(ind){\r\n        //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n        var easer = BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get;\r\n        var mult = 0;\r\n        var s = this.finalS;\r\n        var e = this.finalE;\r\n        var type = this.data.sh;\r\n        if(type == 2){\r\n            if(e === s){\r\n                mult = ind >= e ? 1 : 0;\r\n            }else{\r\n                mult = max(0,min(0.5/(e-s) + (ind-s)/(e-s),1));\r\n            }\r\n            mult = easer(mult);\r\n        }else if(type == 3){\r\n            if(e === s){\r\n                mult = ind >= e ? 0 : 1;\r\n            }else{\r\n                mult = 1 - max(0,min(0.5/(e-s) + (ind-s)/(e-s),1));\r\n            }\r\n\r\n            mult = easer(mult);\r\n        }else if(type == 4){\r\n            if(e === s){\r\n                mult = 0;\r\n            }else{\r\n                mult = max(0,min(0.5/(e-s) + (ind-s)/(e-s),1));\r\n                if(mult<0.5){\r\n                    mult *= 2;\r\n                }else{\r\n                    mult = 1 - 2*(mult-0.5);\r\n                }\r\n            }\r\n            mult = easer(mult);\r\n        }else if(type == 5){\r\n            if(e === s){\r\n                mult = 0;\r\n            }else{\r\n                var tot = e - s;\r\n                /*ind += 0.5;\r\n                mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                ind = min(max(0,ind+0.5-s),e-s);\r\n                var x = -tot/2+ind;\r\n                var a = tot/2;\r\n                mult = Math.sqrt(1 - (x*x)/(a*a));\r\n            }\r\n            mult = easer(mult);\r\n        }else if(type == 6){\r\n            if(e === s){\r\n                mult = 0;\r\n            }else{\r\n                ind = min(max(0,ind+0.5-s),e-s);\r\n                mult = (1+(Math.cos((Math.PI+Math.PI*2*(ind)/(e-s)))))/2;\r\n                /*\r\n                 ind = Math.min(Math.max(s,ind),e-1);\r\n                 mult = (1+(Math.cos((Math.PI+Math.PI*2*(ind-s)/(e-1-s)))))/2;\r\n                 mult = Math.max(mult,(1/(e-1-s))/(e-1-s));*/\r\n            }\r\n            mult = easer(mult);\r\n        }else {\r\n            if(ind >= floor(s)){\r\n                if(ind-s < 0){\r\n                    mult = 1 - (s - ind);\r\n                }else{\r\n                    mult = max(0,min(e-ind,1));\r\n                }\r\n            }\r\n            mult = easer(mult);\r\n        }\r\n        return mult*this.a.v;\r\n    }\r\n\r\n    function TextSelectorProp(elem,data, arr){\r\n        this._mdf = false;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.dynamicProperties = [];\r\n        this.getValue = updateRange;\r\n        this.getMult = getMult;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this.dynamicProperties);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this.dynamicProperties);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this.dynamicProperties);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this.dynamicProperties);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this.dynamicProperties);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this.dynamicProperties);\r\n        if(this.dynamicProperties.length){\r\n            arr.push(this);\r\n        }else{\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || ''\r\n    };\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        frameId: 0,\r\n        compSize: {w:0,h:0},\r\n        renderConfig: this.renderConfig,\r\n        fontManager: new FontManager()\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n    }\r\n    if(this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize.w = animData.w;\r\n    this.globalData.compSize.h = animData.h;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = 'animationMask_'+randomString(10);\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts,defs);\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerHTML = '';\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    //clearPoints();\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction MaskElement(data,element,globalData, dynamicProperties) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    this._isFirstFrame = true;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = randomString(10);\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w);\r\n            rect.setAttribute('height', this.element.comp.data.h);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,dynamicProperties),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3,dynamicProperties,null),\r\n                elem: path\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,dynamicProperties);\r\n            filterID = 'fi_'+randomString(10);\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','dilate');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,dynamicProperties),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3,dynamicProperties,null),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (finalMat) {\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || this._isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || this._isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || this._isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('x', -finalMat.props[12]);\r\n                this.viewData[i].invRect.setAttribute('y', -finalMat.props[13]);\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || this._isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n    this._isFirstFrame = false;\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this.dynamicProperties) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.addMasks();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                this.layerElement.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    this.layerElement.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n                this.maskManager._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGStyleData(data, level) {\r\n\tthis.data = data;\r\n\tthis.type = data.ty;\r\n\tthis.d = '';\r\n\tthis.lvl = level;\r\n\tthis._mdf = false;\r\n\tthis.closed = false;\r\n\tthis.pElem = createNS('path');\r\n\tthis.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function() {\r\n\tthis.d = '';\r\n\tthis._mdf = false;\r\n};\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n}\r\nfunction SVGTransformData(mProps, op) {\r\n\tthis.transform = {\r\n\t\tmProps: mProps,\r\n\t\top: op\r\n\t};\r\n\tthis.elements = [];\r\n}\r\nfunction SVGStrokeStyleData(elem, data, dynamicProperties, styleOb){\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,dynamicProperties);\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,dynamicProperties);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',dynamicProperties);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,dynamicProperties);\r\n\tthis.style = styleOb;\r\n}\r\nfunction SVGFillStyleData(elem, data, dynamicProperties, styleOb){\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,dynamicProperties);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,dynamicProperties);\r\n\tthis.style = styleOb;\r\n}\r\nfunction SVGGradientFillStyleData(elem, data, dynamicProperties, styleOb){\r\n    this.initGradientData(elem, data, dynamicProperties, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function(elem, data, dynamicProperties, styleOb){\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,0.01,dynamicProperties);\r\n    this.s = PropertyFactory.getProp(elem,data.s,1,null,dynamicProperties);\r\n    this.e = PropertyFactory.getProp(elem,data.e,1,null,dynamicProperties);\r\n    this.h = PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,dynamicProperties);\r\n    this.a = PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,dynamicProperties);\r\n    this.g = new GradientProperty(elem,data.g,dynamicProperties);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function(pathElement,data){\r\n\r\n    var gradientId = 'gr_'+randomString(10);\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id',gradientId);\r\n    gfill.setAttribute('spreadMethod','pad');\r\n    gfill.setAttribute('gradientUnits','userSpaceOnUse');\r\n    var stops = [];\r\n    var stop, j, jLen;\r\n    jLen = data.g.p*4;\r\n    for(j=0;j<jLen;j+=4){\r\n        stop = createNS('stop');\r\n        gfill.appendChild(stop);\r\n        stops.push(stop);\r\n    }\r\n    pathElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(#'+gradientId+')');\r\n    \r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function(data, styleOb){\r\n    if(this.g._hasOpacity && !this.g._collapsable){\r\n        var stop, j, jLen;\r\n        var mask = createNS(\"mask\");\r\n        var maskElement = createNS( 'path');\r\n        mask.appendChild(maskElement);\r\n        var opacityId = 'op_'+randomString(10);\r\n        var maskId = 'mk_'+randomString(10);\r\n        mask.setAttribute('id',maskId);\r\n        var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n        opFill.setAttribute('id',opacityId);\r\n        opFill.setAttribute('spreadMethod','pad');\r\n        opFill.setAttribute('gradientUnits','userSpaceOnUse');\r\n        jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n        var stops = this.stops;\r\n        for(j=data.g.p*4;j<jLen;j+=2){\r\n            stop = createNS('stop');\r\n            stop.setAttribute('stop-color','rgb(255,255,255)');\r\n            opFill.appendChild(stop);\r\n            stops.push(stop);\r\n        }\r\n        maskElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(#'+opacityId+')');\r\n        this.of = opFill;\r\n        this.ms = mask;\r\n        this.ost = stops;\r\n        this.maskId = maskId;\r\n        styleOb.msElem = maskElement;\r\n    }\r\n};\r\nfunction SVGGradientStrokeStyleData(elem, data, dynamicProperties, styleOb){\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,dynamicProperties);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',dynamicProperties);\r\n    this.initGradientData(elem, data, dynamicProperties, styleOb);\r\n}\r\n\r\nSVGGradientStrokeStyleData.prototype.initGradientData = SVGGradientFillStyleData.prototype.initGradientData;\r\nSVGGradientStrokeStyleData.prototype.setGradientData = SVGGradientFillStyleData.prototype.setGradientData;\r\nSVGGradientStrokeStyleData.prototype.setGradientOpacity = SVGGradientFillStyleData.prototype.setGradientOpacity;\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nfunction BaseElement(){\r\n}\r\nBaseElement.prototype.checkMasks = function(){\r\n    if(!this.data.hasMask){\r\n        return false;\r\n    }\r\n    var i = 0, len = this.data.masksProperties.length;\r\n    while(i<len) {\r\n        if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n            return true;\r\n        }\r\n        i += 1;\r\n    }\r\n    return false;\r\n};\r\n\r\nBaseElement.prototype.initExpressions = function(){\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if(this.data.hasMask && this.maskManager) {\r\n        this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if(this.data.ty === 0 || this.data.xt){\r\n        this.compInterface = CompExpressionInterface(this);\r\n    } else if(this.data.ty === 4){\r\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n        this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if(this.data.ty === 5){\r\n        this.layerInterface.textInterface = TextExpressionInterface(this);\r\n        this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n};\r\n\r\nBaseElement.prototype.blendModeEnums = {\r\n    1:'multiply',\r\n    2:'screen',\r\n    3:'overlay',\r\n    4:'darken',\r\n    5:'lighten',\r\n    6:'color-dodge',\r\n    7:'color-burn',\r\n    8:'hard-light',\r\n    9:'soft-light',\r\n    10:'difference',\r\n    11:'exclusion',\r\n    12:'hue',\r\n    13:'saturation',\r\n    14:'color',\r\n    15:'luminosity'\r\n};\r\n\r\nBaseElement.prototype.getBlendMode = function(){\r\n    return this.blendModeEnums[this.data.bm] || '';\r\n};\r\n\r\nBaseElement.prototype.setBlendMode = function(){\r\n    var blendModeValue = this.getBlendMode();\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n};\r\n\r\nBaseElement.prototype.initBaseData = function(data, globalData, comp){\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = 'ly_'+randomString(10);\r\n    \r\n    //Stretch factor for old animations missing this property.\r\n    if(!this.data.sr){\r\n        this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n    \r\n};\r\n\r\nBaseElement.prototype.getType = function(){\r\n    return this.type;\r\n};\r\n\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = randomString(10);\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = randomString(10);\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);\r\n\r\n                ////\r\n                /*var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);*/\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = 'cp_'+randomString(8);\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    addMasks: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData, this.dynamicProperties);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'butt'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var i = 0, len = this.processedElements.length;\r\n        while(i < len){\r\n            if(this.processedElements[i].elem === elem){\r\n                return this.processedElements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var i = this.processedElements.length;\r\n        while(i){\r\n            i -= 1;\r\n            if(this.processedElements[i].elem === elem){\r\n                this.processedElements[i].pos = pos;\r\n                break;\r\n            }\r\n        }\r\n        if(i === 0){\r\n            this.processedElements.push(new ProcessedElement(elem, pos));\r\n        }\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    },\r\n    buildShapeString: function(pathNodes, length, closed, mat) {\r\n        var i, shapeString = '';\r\n        for(i = 1; i < length; i += 1) {\r\n            if (i === 1) {\r\n                shapeString += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\r\n            }\r\n            shapeString += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[i][0], pathNodes.i[i][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[i][0], pathNodes.v[i][1]);\r\n        }\r\n        if (length === 1) {\r\n            shapeString += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.addMasks();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += this.buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n    this.buildNewText();\r\n    this.renderInnerContent();\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n    this.buildNewText();\r\n    this.renderInnerContent();\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n    this.buildNewText();\r\n    this.renderInnerContent();\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.buildShapeString = IShapeElement.prototype.buildShapeString;\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.addMasks();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio','xMidYMid slice');\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction SVGCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    //this.layerElement = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this.dynamicProperties) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\nfunction SVGTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], SVGTextElement);\r\n\r\nSVGTextElement.prototype.createContent = function(){\r\n\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n        this.textContainer = createNS('text');\r\n    }\r\n};\r\n\r\nSVGTextElement.prototype.buildTextContents = function(textArray) {\r\n    var i = 0, len = textArray.length;\r\n    var textContents = [], currentTextContent = '';\r\n    while (i < len) {\r\n        if(textArray[i] === String.fromCharCode(13)) {\r\n            textContents.push(currentTextContent);\r\n            currentTextContent = '';\r\n        } else {\r\n            currentTextContent += textArray[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n}\r\n\r\nSVGTextElement.prototype.buildNewText = function(){\r\n    var i, len;\r\n\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n    if(documentData.fc) {\r\n        this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    }else{\r\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n    if(documentData.sc){\r\n        this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(fontData.fClass){\r\n        this.layerElement.setAttribute('class',fontData.fClass);\r\n    } else {\r\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n        var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n        this.layerElement.setAttribute('font-style', fStyle);\r\n        this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n    if(!len){\r\n        return;\r\n    }\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '', singleShape = this.data.singleShape;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    if(singleShape && !usesGlyphs && !documentData.sz) {\r\n        var tElement = this.textContainer;\r\n        var justify = 'start';\r\n        switch(documentData.j) {\r\n            case 1:\r\n                justify = 'end';\r\n                break;\r\n            case 2:\r\n                justify = 'middle';\r\n                break;\r\n        }\r\n        tElement.setAttribute('text-anchor',justify);\r\n        tElement.setAttribute('letter-spacing',trackingOffset);\r\n        var textContent = this.buildTextContents(documentData.finalText);\r\n        len = textContent.length;\r\n        yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n        for ( i = 0; i < len; i += 1) {\r\n            tSpan = this.textSpans[i] || createNS('tspan');\r\n            tSpan.textContent = textContent[i];\r\n            tSpan.setAttribute('x', 0);\r\n            tSpan.setAttribute('y', yPos);\r\n            tSpan.style.display = 'inherit';\r\n            tElement.appendChild(tSpan);\r\n            this.textSpans[i] = tSpan;\r\n            yPos += documentData.finalLineHeight;\r\n        }\r\n        \r\n        this.layerElement.appendChild(tElement);\r\n    } else {\r\n        var cachedSpansLength = this.textSpans.length;\r\n        var shapeData, charData;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!usesGlyphs || !singleShape || i === 0){\r\n                tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs?'path':'text');\r\n                if (cachedSpansLength <= i) {\r\n                    tSpan.setAttribute('stroke-linecap', 'butt');\r\n                    tSpan.setAttribute('stroke-linejoin','round');\r\n                    tSpan.setAttribute('stroke-miterlimit','4');\r\n                    this.textSpans[i] = tSpan;\r\n                    this.layerElement.appendChild(tSpan);\r\n                }\r\n                tSpan.style.display = 'inherit';\r\n            }\r\n            \r\n            matrixHelper.reset();\r\n            matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n            if (singleShape) {\r\n                if(letters[i].n) {\r\n                    xPos = -trackingOffset;\r\n                    yPos += documentData.yOffset;\r\n                    yPos += firstLine ? 1 : 0;\r\n                    firstLine = false;\r\n                }\r\n                this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n                xPos += letters[i].l || 0;\r\n                //xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n                xPos += trackingOffset;\r\n            }\r\n            if(usesGlyphs) {\r\n                charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n                shapeData = charData && charData.data || {};\r\n                shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n                if(!singleShape){\r\n                    tSpan.setAttribute('d',this.createPathShape(matrixHelper,shapes));\r\n                } else {\r\n                    shapeStr += this.createPathShape(matrixHelper,shapes);\r\n                }\r\n            } else {\r\n                if(singleShape) {\r\n                    tSpan.setAttribute(\"transform\", \"translate(\" + matrixHelper.props[12] + \",\" + matrixHelper.props[13] + \")\");\r\n                }\r\n                tSpan.textContent = letters[i].val;\r\n                tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            }\r\n            //\r\n        }\r\n        if (singleShape) {\r\n            tSpan.setAttribute('d',shapeStr);\r\n        }\r\n    }\r\n    while (i < this.textSpans.length){\r\n        this.textSpans[i].style.display = 'none';\r\n        i += 1;\r\n    }\r\n    \r\n    this._sizeChanged = true;\r\n};\r\n\r\nSVGTextElement.prototype.sourceRectAtTime = function(time){\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n    if(this._sizeChanged){\r\n        this._sizeChanged = false;\r\n        var textBox = this.layerElement.getBBox();\r\n        this.bbox = {\r\n            top: textBox.y,\r\n            left: textBox.x,\r\n            width: textBox.width,\r\n            height: textBox.height\r\n        };\r\n    }\r\n    return this.bbox;\r\n};\r\n\r\nSVGTextElement.prototype.renderInnerContent = function(){\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n        if(this.lettersChangedFlag || this.textAnimator.lettersChangedFlag){\r\n            this._sizeChanged = true;\r\n            var  i,len;\r\n            var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n            var letters = this.textProperty.currentData.l;\r\n\r\n            len = letters.length;\r\n            var renderedLetter, textSpan;\r\n            for(i=0;i<len;i+=1){\r\n                if(letters[i].n){\r\n                    continue;\r\n                }\r\n                renderedLetter = renderedLetters[i];\r\n                textSpan = this.textSpans[i];\r\n                if(renderedLetter._mdf.m) {\r\n                    textSpan.setAttribute('transform',renderedLetter.m);\r\n                }\r\n                if(renderedLetter._mdf.o) {\r\n                    textSpan.setAttribute('opacity',renderedLetter.o);\r\n                }\r\n                if(renderedLetter._mdf.sw){\r\n                    textSpan.setAttribute('stroke-width',renderedLetter.sw);\r\n                }\r\n                if(renderedLetter._mdf.sc){\r\n                    textSpan.setAttribute('stroke',renderedLetter.sc);\r\n                }\r\n                if(renderedLetter._mdf.fc){\r\n                    textSpan.setAttribute('fill',renderedLetter.fc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties, 0, [], true);\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level, dynamicProperties){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, dynamicProperties, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, dynamicProperties, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, dynamicProperties, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, dynamicProperties) {\r\n    return new SVGTransformData(TransformPropertyFactory.getTransformProperty(this,data,dynamicProperties), PropertyFactory.getProp(this,data.o,0,0.01,dynamicProperties));\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level, dynamicProperties) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,dynamicProperties);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData.sh);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties, 0, [], true);\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container,dynamicProperties, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level, dynamicProperties);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr,dynamicProperties, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], dynamicProperties);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level, dynamicProperties);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i],dynamicProperties);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData,dynamicProperties);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape(this.shapesData, this.itemsData, this.layerElement);\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\n\r\nSVGShapeElement.prototype.renderShape = function(items, data, container) {\r\n    var i, len = items.length - 1;\r\n    var ty;\r\n    for(i=0;i<=len;i+=1){\r\n        ty = items[i].ty;\r\n        if(ty == 'tr'){\r\n            if(this._isFirstFrame || data[i].transform.op._mdf){\r\n                container.setAttribute('opacity',data[i].transform.op.v);\r\n            }\r\n            if(this._isFirstFrame || data[i].transform.mProps._mdf){\r\n                container.setAttribute('transform',data[i].transform.mProps.v.to2dCSS());\r\n            }\r\n        }else if(items[i]._render && (ty == 'sh' || ty == 'el' || ty == 'rc' || ty == 'sr')){\r\n            this.renderPath(data[i]);\r\n        }else if(ty == 'fl'){\r\n            this.renderFill(items[i],data[i]);\r\n        }else if(ty == 'gf'){\r\n            this.renderGradient(items[i],data[i]);\r\n        }else if(ty == 'gs'){\r\n            this.renderGradient(items[i],data[i]);\r\n            this.renderStroke(items[i],data[i]);\r\n        }else if(ty == 'st'){\r\n            this.renderStroke(items[i],data[i]);\r\n        }else if(ty == 'gr'){\r\n            this.renderShape(items[i].it,data[i].it, data[i].gr);\r\n        }else if(ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n\r\n};\r\n\r\nSVGShapeElement.prototype.renderPath = function(itemData){\r\n    var j, jLen,pathStringTransformed,redraw,pathNodes,l, lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths, mat, props, iterations, k;\r\n    for(l=0;l<lLen;l+=1){\r\n        redraw = itemData.sh._mdf || this._isFirstFrame;\r\n        if(itemData.styles[l].lvl < lvl){\r\n            mat = this.mHelper.reset();\r\n            iterations = lvl - itemData.styles[l].lvl;\r\n            k = itemData.transformers.length-1;\r\n            while(iterations > 0) {\r\n                redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n                props = itemData.transformers[k].mProps.v.props;\r\n                mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n                iterations --;\r\n                k --;\r\n            }\r\n        } else {\r\n            mat = this.identityMatrix;\r\n        }\r\n        paths = itemData.sh.paths;\r\n        jLen = paths._length;\r\n        if(redraw){\r\n            pathStringTransformed = '';\r\n            for(j=0;j<jLen;j+=1){\r\n                pathNodes = paths.shapes[j];\r\n                if(pathNodes && pathNodes._length){\r\n                    pathStringTransformed += this.buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n                }\r\n            }\r\n            itemData.caches[l] = pathStringTransformed;\r\n        } else {\r\n            pathStringTransformed = itemData.caches[l];\r\n        }\r\n        itemData.styles[l].d += pathStringTransformed;\r\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderFill = function(styleData,itemData){\r\n    var styleElem = itemData.style;\r\n\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.pElem.setAttribute('fill','rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')');\r\n    }\r\n    if(itemData.o._mdf || this._isFirstFrame){\r\n        styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderGradient = function(styleData, itemData) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || this._isFirstFrame) {\r\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || this._isFirstFrame) {\r\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n        gfill.setAttribute(attr1, pt1[0]);\r\n        gfill.setAttribute(attr2, pt1[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute(attr1, pt1[0]);\r\n            itemData.of.setAttribute(attr2, pt1[1]);\r\n        }\r\n    }\r\n    var stops, i, len, stop;\r\n    if (itemData.g._cmdf || this._isFirstFrame) {\r\n        stops = itemData.cst;\r\n        var cValues = itemData.g.c;\r\n        len = stops.length;\r\n        for (i = 0; i < len; i += 1){\r\n            stop = stops[i];\r\n            stop.setAttribute('offset', cValues[i * 4] + '%');\r\n            stop.setAttribute('stop-color','rgb('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ')');\r\n        }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || this._isFirstFrame)) {\r\n        var oValues = itemData.g.o;\r\n        if(itemData.g._collapsable) {\r\n            stops = itemData.cst;\r\n        } else {\r\n            stops = itemData.ost;\r\n        }\r\n        len = stops.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            stop = stops[i];\r\n            if(!itemData.g._collapsable) {\r\n                stop.setAttribute('offset', oValues[i * 2] + '%');\r\n            }\r\n            stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n        }\r\n    }\r\n    if (styleData.t === 1) {\r\n        if (itemData.e._mdf  || this._isFirstFrame) {\r\n            gfill.setAttribute('x2', pt2[0]);\r\n            gfill.setAttribute('y2', pt2[1]);\r\n            if (hasOpacity && !itemData.g._collapsable) {\r\n                itemData.of.setAttribute('x2', pt2[0]);\r\n                itemData.of.setAttribute('y2', pt2[1]);\r\n            }\r\n        }\r\n    } else {\r\n        var rad;\r\n        if (itemData.s._mdf || itemData.e._mdf || this._isFirstFrame) {\r\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            gfill.setAttribute('r', rad);\r\n            if(hasOpacity && !itemData.g._collapsable){\r\n                itemData.of.setAttribute('r', rad);\r\n            }\r\n        }\r\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || this._isFirstFrame) {\r\n            if (!rad) {\r\n                rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            }\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            gfill.setAttribute('fx', x);\r\n            gfill.setAttribute('fy', y);\r\n            if (hasOpacity && !itemData.g._collapsable) {\r\n                itemData.of.setAttribute('fx', x);\r\n                itemData.of.setAttribute('fy', y);\r\n            }\r\n        }\r\n        //gfill.setAttribute('fy','200');\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderStroke = function(styleData, itemData) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || this._isFirstFrame)) {\r\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if(itemData.c && (itemData.c._mdf || this._isFirstFrame)){\r\n        styleElem.pElem.setAttribute('stroke','rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\r\n    }\r\n    if(itemData.o._mdf || this._isFirstFrame){\r\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n        if(styleElem.msElem){\r\n            styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapeData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction SVGTintFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    if(filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k){\r\n        var feMerge = createNS('feMerge');\r\n        filter.appendChild(feMerge);\r\n        var feMergeNode;\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','SourceGraphic');\r\n        feMerge.appendChild(feMergeNode);\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','f2');\r\n        feMerge.appendChild(feMergeNode);\r\n    }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var colorBlack = this.filterManager.effectElements[0].p.v;\r\n        var colorWhite = this.filterManager.effectElements[1].p.v;\r\n        var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGFillFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color = this.filterManager.effectElements[2].p.v;\r\n        var opacity = this.filterManager.effectElements[6].p.v;\r\n        this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');\r\n    }\r\n};\r\nfunction SVGStrokeEffect(elem, filterManager){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function(){\r\n\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path,groupPath, i, len;\r\n    if(this.filterManager.effectElements[1].p.v === 1){\r\n        len = this.elem.maskManager.masksProperties.length;\r\n        i = 0;\r\n    } else {\r\n        i = this.filterManager.effectElements[0].p.v - 1;\r\n        len = i + 1;\r\n    }\r\n    groupPath = createNS('g'); \r\n    groupPath.setAttribute('fill','none');\r\n    groupPath.setAttribute('stroke-linecap','round');\r\n    groupPath.setAttribute('stroke-dashoffset',1);\r\n    for(i;i<len;i+=1){\r\n        path = createNS('path');\r\n        groupPath.appendChild(path);\r\n        this.paths.push({p:path,m:i});\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 3){\r\n        var mask = createNS('mask');\r\n        var id = 'stms_' + randomString(10);\r\n        mask.setAttribute('id',id);\r\n        mask.setAttribute('mask-type','alpha');\r\n        mask.appendChild(groupPath);\r\n        this.elem.globalData.defs.appendChild(mask);\r\n        var g = createNS('g');\r\n        g.setAttribute('mask','url(' + locationHref + '#'+id+')');\r\n        if(elemChildren[0]){\r\n            g.appendChild(elemChildren[0]);\r\n        }\r\n        this.elem.layerElement.appendChild(g);\r\n        this.masker = mask;\r\n        groupPath.setAttribute('stroke','#fff');\r\n    } else if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(this.filterManager.effectElements[10].p.v === 2){\r\n            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n            while(elemChildren.length){\r\n                this.elem.layerElement.removeChild(elemChildren[0]);\r\n            }\r\n        }\r\n        this.elem.layerElement.appendChild(groupPath);\r\n        this.elem.layerElement.removeAttribute('mask');\r\n        groupPath.setAttribute('stroke','#fff');\r\n    }\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function(forceRender){\r\n    if(!this.initialized){\r\n        this.initialize();\r\n    }\r\n    var i, len = this.paths.length;\r\n    var mask, path;\r\n    for(i=0;i<len;i+=1){\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n        if(forceRender || this.filterManager._mdf || mask.prop._mdf){\r\n            path.setAttribute('d',mask.lastPath);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf){\r\n            var dasharrayValue;\r\n            if(this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100){\r\n                var s = Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var e = Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var l = path.getTotalLength();\r\n                dasharrayValue = '0 0 0 ' + l*s + ' ';\r\n                var lineLength = l*(e-s);\r\n                var segment = 1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n                var units = Math.floor(lineLength/segment);\r\n                var j;\r\n                for(j=0;j<units;j+=1){\r\n                    dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100 + ' ';\r\n                }\r\n                dasharrayValue += '0 ' + l*10 + ' 0 0';\r\n            } else {\r\n                dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n            }\r\n            path.setAttribute('stroke-dasharray',dasharrayValue);\r\n        }\r\n    }\r\n    if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n        this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);\r\n    }\r\n    \r\n    if(forceRender || this.filterManager.effectElements[6].p._mdf){\r\n        this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(forceRender || this.filterManager.effectElements[3].p._mdf){\r\n            var color = this.filterManager.effectElements[3].p.v;\r\n            this.pathMasker.setAttribute('stroke','rgb('+bm_floor(color[0]*255)+','+bm_floor(color[1]*255)+','+bm_floor(color[2]*255)+')');\r\n        }\r\n    }\r\n};\r\nfunction SVGTritoneFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color1 = this.filterManager.effectElements[0].p.v;\r\n        var color2 = this.filterManager.effectElements[1].p.v;\r\n        var color3 = this.filterManager.effectElements[2].p.v;\r\n        var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n        var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n        var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n        this.feFuncR.setAttribute('tableValues', tableR);\r\n        this.feFuncG.setAttribute('tableValues', tableG);\r\n        this.feFuncB.setAttribute('tableValues', tableB);\r\n        //var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        //this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGProLevelsFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    var feFuncR, feFuncG, feFuncB;\r\n    \r\n    if(effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1){\r\n        this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    }\r\n    if(effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1){\r\n        this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    }\r\n    if(effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1){\r\n        this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n    if(effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1){\r\n        this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    }\r\n    \r\n    if(this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA){\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        feComponentTransfer = createNS('feComponentTransfer');\r\n    }\r\n\r\n    if(effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1){\r\n\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n        this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n        this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function(type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null,{length:segments});\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack; \r\n    var inputDelta = inputWhite - inputBlack; \r\n    while(cnt <= 256) {\r\n        perc = cnt/256;\r\n        if(perc <= min){\r\n            colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n        } else if(perc >= max){\r\n            colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n        } else {\r\n            colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n        }\r\n        table[pos++] = colorValue;\r\n        cnt += 256/(segments-1);\r\n    }\r\n    return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var val, cnt, perc, bezier;\r\n        var effectElements = this.filterManager.effectElements;\r\n        if(this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)){\r\n            val = this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);\r\n            this.feFuncRComposed.setAttribute('tableValues',val);\r\n            this.feFuncGComposed.setAttribute('tableValues',val);\r\n            this.feFuncBComposed.setAttribute('tableValues',val);\r\n        }\r\n\r\n\r\n        if(this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)){\r\n            val = this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);\r\n            this.feFuncR.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)){\r\n            val = this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);\r\n            this.feFuncG.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)){\r\n            val = this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);\r\n            this.feFuncB.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)){\r\n            val = this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);\r\n            this.feFuncA.setAttribute('tableValues',val);\r\n        }\r\n        \r\n    }\r\n};\r\nfunction SVGDropShadowEffect(filter, filterManager){\r\n    filter.setAttribute('x','-100%');\r\n    filter.setAttribute('y','-100%');\r\n    filter.setAttribute('width','400%');\r\n    filter.setAttribute('height','400%');\r\n    this.filterManager = filterManager;\r\n\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in','SourceAlpha');\r\n    feGaussianBlur.setAttribute('result','drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation','0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx','25');\r\n    feOffset.setAttribute('dy','0');\r\n    feOffset.setAttribute('in','drop_shadow_1');\r\n    feOffset.setAttribute('result','drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color','#00ff00');\r\n    feFlood.setAttribute('flood-opacity','1');\r\n    feFlood.setAttribute('result','drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in','drop_shadow_3');\r\n    feComposite.setAttribute('in2','drop_shadow_2');\r\n    feComposite.setAttribute('operator','in');\r\n    feComposite.setAttribute('result','drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n\r\n\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in','SourceGraphic');\r\n    this.feMergeNode = feMergeNode;\r\n    this.feMerge = feMerge;\r\n    this.originalNodeAdded = false;\r\n    feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n            this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[0].p._mdf){\r\n            var col = this.filterManager.effectElements[0].p.v;\r\n            this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[1].p._mdf){\r\n            this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf){\r\n            var distance = this.filterManager.effectElements[3].p.v;\r\n            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n            var x = distance * Math.cos(angle);\r\n            var y = distance * Math.sin(angle);\r\n            this.feOffset.setAttribute('dx', x);\r\n            this.feOffset.setAttribute('dy', y);\r\n        }\r\n        /*if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        }*/\r\n    }\r\n};\r\nvar _svgMatteSymbols = [];\r\nvar _svgMatteMaskCounter = 0;\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function(mask) {\r\n    var i = 0, len = _svgMatteSymbols.length;\r\n    while(i < len) {\r\n        if(_svgMatteSymbols[i] === mask) {\r\n            return _svgMatteSymbols[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function(mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n    if(!parentNode) {\r\n        return;\r\n    }\r\n    var children = parentNode.children;\r\n    var i = 0, len = children.length;\r\n    while (i < len) {\r\n        if (children[i] === mask.layerElement) {\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    var nextChild;\r\n    if (i <= len - 2) {\r\n        nextChild = children[i + 1];\r\n    }\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    if(nextChild) {\r\n        parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n        parentNode.appendChild(useElem);\r\n    }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function(elem, mask) {\r\n    if(!this.findSymbol(mask)) {\r\n        var symbolId = 'matte_' + randomString(5) + '_' + _svgMatteMaskCounter++;\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', mask.layerId);\r\n        masker.setAttribute('mask-type', 'alpha');\r\n        _svgMatteSymbols.push(mask);\r\n        var defs = elem.globalData.defs;\r\n        defs.appendChild(masker);\r\n        var symbol = createNS('symbol');\r\n        symbol.setAttribute('id', symbolId);\r\n        this.replaceInParent(mask, symbolId);\r\n        symbol.appendChild(mask.layerElement);\r\n        defs.appendChild(symbol);\r\n        useElem = createNS('use');\r\n        useElem.setAttribute('href', '#' + symbolId);\r\n        masker.appendChild(useElem);\r\n        mask.data.hd = false;\r\n        mask.show();\r\n    }\r\n    elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function() {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var i = 0, len = this.elem.comp.elements.length;\r\n    while (i < len) {\r\n    \tif (this.elem.comp.elements[i].data.ind === ind) {\r\n    \t\tthis.setElementAsMask(this.elem, this.elem.comp.elements[i]);\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n    this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function() {\r\n\tif(!this.initialized) {\r\n\t\tthis.initialize();\r\n\t}\r\n};\r\nfunction SVGEffects(elem){\r\n    var i, len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = randomString(10);\r\n    var fil = filtersFactory.createFilter(filId);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n    for(i=0;i<len;i+=1){\r\n        filterManager = null;\r\n        if(elem.data.ef[i].ty === 20){\r\n            count += 1;\r\n            filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 21){\r\n            count += 1;\r\n            filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 22){\r\n            filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 23){\r\n            count += 1;\r\n            filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 24){\r\n            count += 1;\r\n            filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 25){\r\n            count += 1;\r\n            filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 28){\r\n            //count += 1;\r\n            filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n        }\r\n        if(filterManager) {\r\n            this.filters.push(filterManager);\r\n        }\r\n    }\r\n    if(count){\r\n        elem.globalData.defs.appendChild(fil);\r\n        elem.layerElement.setAttribute('filter','url(' + locationHref + '#'+filId+')');\r\n    }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function(_isFirstFrame){\r\n    var i, len = this.filters.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var idled = true;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n        if(playingAnimationsNum === 0){\r\n            idled = true;\r\n        }\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(!idled) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerHTML = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    /*function start(){\r\n        window.requestAnimationFrame(first);\r\n    }*/\r\n\r\n    function activate(){\r\n        if(idled){\r\n            idled = false;\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //start();\r\n\r\n    //setTimeout(start,0);\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.pendingElements = 0;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.layers = [];\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = randomString(10);\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.subframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this.projectInterface = ProjectInterface();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    var self = this;\r\n    if(params.context){\r\n        this.context = params.context;\r\n    }\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n\r\n    if(params.loop === '' || params.loop === null){\r\n    }else if(params.loop === false){\r\n        this.loop = false;\r\n    }else if(params.loop === true){\r\n        this.loop = true;\r\n    }else{\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    if(params.animationData){\r\n        self.configAnimation(params.animationData);\r\n    }else if(params.path){\r\n        if(params.path.substr(-4) != 'json'){\r\n            if (params.path.substr(-1, 1) != '/') {\r\n                params.path += '/';\r\n            }\r\n            params.path += 'data.json';\r\n        }\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        if(params.path.lastIndexOf('\\\\') != -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        }else{\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.assetsPath = params.assetsPath;\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n        xhr.open('GET', params.path, true);\r\n        xhr.send();\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4) {\r\n                if(xhr.status == 200){\r\n                    self.configAnimation(JSON.parse(xhr.responseText));\r\n                }else{\r\n                    try{\r\n                        var response = JSON.parse(xhr.responseText);\r\n                        self.configAnimation(response);\r\n                    }catch(err){\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n        this.animationData.tf = this.totalFrames;\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    //this.totalFrames = 50;\r\n    //this.animationData.tf = 50;\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.renderFrame(-1);\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.animationData.tf;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var xhr = new XMLHttpRequest();\r\n    var self = this;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    xhr.open('GET', segmentPath, true);\r\n    xhr.send();\r\n    xhr.onreadystatechange = function () {\r\n        if (xhr.readyState == 4) {\r\n            if(xhr.status == 200){\r\n                self.includeLayers(JSON.parse(xhr.responseText));\r\n            }else{\r\n                try{\r\n                    var response = JSON.parse(xhr.responseText);\r\n                    self.includeLayers(response);\r\n                }catch(err){\r\n                }\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.animationData.tf;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    var _this = this;\r\n    if(this.renderer && this.renderer.destroyed){\r\n        return;\r\n    }\r\n    //console.log(JSON.parse(JSON.stringify(animData)));\r\n    //animData.w = Math.round(animData.w/blitter);\r\n    //animData.h = Math.round(animData.h/blitter);\r\n    this.animationData = animData;\r\n    this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n    this.animationData.tf = this.totalFrames;\r\n    this.renderer.configAnimation(animData);\r\n    if(!animData.assets){\r\n        animData.assets = [];\r\n    }\r\n    if(animData.comps) {\r\n        animData.assets = animData.assets.concat(animData.comps);\r\n        animData.comps = null;\r\n    }\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n\r\n    this.layers = this.animationData.layers;\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.firstFrame = Math.round(this.animationData.ip);\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.trigger('config_ready');\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(animData.assets, function(err) {\r\n        if(!err) {\r\n            _this.trigger('loaded_images');\r\n        }\r\n    });\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    if(this.renderer.globalData.fontManager){\r\n        this.waitForFontsLoaded();\r\n    }else{\r\n        dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n        this.checkLoaded();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = (function(){\r\n    function checkFontsLoaded(){\r\n        if(this.renderer.globalData.fontManager.loaded){\r\n            dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n            //this.renderer.buildItems(this.animationData.layers);\r\n            this.checkLoaded();\r\n        }else{\r\n            setTimeout(checkFontsLoaded.bind(this),20);\r\n        }\r\n    }\r\n\r\n    return function(){\r\n        checkFontsLoaded.bind(this)();\r\n    };\r\n}());\r\n\r\nAnimationItem.prototype.addPendingElement = function () {\r\n    this.pendingElements += 1;\r\n};\r\n\r\nAnimationItem.prototype.elementLoaded = function () {\r\n    this.pendingElements--;\r\n    this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (this.pendingElements === 0) {\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function(){\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this),0);\r\n        this.isLoaded = true;\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.subframeEnabled = flag ? true : false;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.subframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    //console.log(this.currentFrame)\r\n    this.trigger('enterFrame');\r\n    // console.log('gotoFrame: ', this.currentFrame )\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    //console.log('this.currentFrame:',this.currentFrame + this.firstFrame);\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.isPaused = false;\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                this.trigger('loopComplete');\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr,forceFlag) {\r\n    if(typeof arr[0] === 'object'){\r\n        var i, len = arr.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.segments.push(arr[i]);\r\n        }\r\n    }else{\r\n        this.segments.push(arr);\r\n    }\r\n    if(forceFlag){\r\n        this.checkSegments(0);\r\n    }\r\n    if(this.isPaused){\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if(forceFlag){\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset){\r\n    if(this.segments.length) {\r\n        //console.log(this.currentRawFrame % lastFrame)\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.remove = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if((name && this.name != name) || (this.renderer && this.renderer.destroyed)){\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getAssets = function () {\r\n    return this.assets;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\nfunction EffectsManager(){}\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        className: (config && config.className) || ''\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    var i, len = 15;\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    this.canvasContext.globalAlpha = popped;\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.totalFrames = Math.floor(animData.tf);\r\n    this.globalData.compWidth = animData.w;\r\n    this.globalData.compHeight = animData.h;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    };\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts,document.body);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\r\n    this.globalData.addPendingElement = this.animationItem.addPendingElement.bind(this.animationItem);\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas) {\r\n        this.animationItem.wrapper.innerHTML = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num){\r\n    if((this.renderedFrame == num && this.renderConfig.clearCanvas === true) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = false;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction HybridRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n        className: (config && config.className) || '',\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true\r\n    };\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newDOMElement = element.getBaseElement();\r\n    if(!newDOMElement){\r\n        return;\r\n    }\r\n    var layer = this.layers[pos];\r\n    if(!layer.ddd || !this.supports3d){\r\n        var i = 0;\r\n        var nextDOMElement, nextLayer, tmpDOMElement;\r\n        while(i<pos){\r\n            if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement){\r\n                nextLayer = this.elements[i];\r\n                tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n                nextDOMElement = tmpDOMElement || nextDOMElement;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(nextDOMElement){\r\n            if(!layer.ddd || !this.supports3d){\r\n                this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n            }\r\n        } else {\r\n            if(!layer.ddd || !this.supports3d){\r\n                this.layerElement.appendChild(newDOMElement);\r\n            }\r\n        }\r\n    } else {\r\n        this.addTo3dContainer(newDOMElement,pos);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n    return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGTextElement(data, this.globalData, this);\r\n    }\r\n    return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n    if(!this.supports3d){\r\n        return new IImageElement(data, this.globalData, this);\r\n    }\r\n    return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n    return new HCompElement(data, this.globalData, this);\r\n\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n    if(!this.supports3d){\r\n        return new ISolidElement(data, this.globalData, this);\r\n    }\r\n    return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function(pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len) {\r\n        if(this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n            return this.threeDElements[i].perspectiveElem;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function(pos){\r\n    var perspectiveElem = createTag('div');\r\n    styleDiv(perspectiveElem);\r\n    perspectiveElem.style.width = this.globalData.compSize.w+'px';\r\n    perspectiveElem.style.height = this.globalData.compSize.h+'px';\r\n    perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n    container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    perspectiveElem.appendChild(container);\r\n    this.resizerElem.appendChild(perspectiveElem);\r\n    var threeDContainerData = {\r\n        container:container,\r\n        perspectiveElem:perspectiveElem,\r\n        startPos: pos,\r\n        endPos: pos\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function(){\r\n    var i, len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.layers[i].ddd){\r\n            if(!lastThreeDContainerData){\r\n                lastThreeDContainerData = this.createThreeDContainer(i);\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        } else {\r\n            lastThreeDContainerData = null;\r\n        }\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function(elem,pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len){\r\n        if(pos <= this.threeDElements[i].endPos){\r\n            var j = this.threeDElements[i].startPos;\r\n            var nextElement;\r\n            while(j<pos){\r\n                if(this.elements[j] && this.elements[j].getBaseElement){\r\n                    nextElement = this.elements[j].getBaseElement();\r\n                }\r\n                j += 1;\r\n            }\r\n            if(nextElement){\r\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n            } else {\r\n                this.threeDElements[i].container.appendChild(elem);\r\n            }\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function(animData){\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    resizerElem.style.width = animData.w+'px';\r\n    resizerElem.style.height = animData.h+'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\r\n    if(this.renderConfig.className) {\r\n      wrapper.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    wrapper.appendChild(resizerElem);\r\n\r\n    resizerElem.style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width','1');\r\n    svg.setAttribute('height','1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.globalData.defs = defs;\r\n    this.data = animData;\r\n    //Mask animation\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\r\n    this.globalData.frameId = 0;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    };\r\n    this.globalData.frameRate = animData.fr;\r\n    this.layers = animData.layers;\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts,svg);\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerHTML = '';\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        this.elements[i].destroy();\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth/elementHeight;\r\n    var animationRel = this.globalData.compSize.w/this.globalData.compSize.h;\r\n    var sx,sy,tx,ty;\r\n    if(animationRel>elementRel){\r\n        sx = elementWidth/(this.globalData.compSize.w);\r\n        sy = elementWidth/(this.globalData.compSize.w);\r\n        tx = 0;\r\n        ty = ((elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2);\r\n    }else{\r\n        sx = elementHeight/(this.globalData.compSize.h);\r\n        sy = elementHeight/(this.globalData.compSize.h);\r\n        tx = (elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;\r\n        ty = 0;\r\n    }\r\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function(){\r\n    this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function(){\r\n    this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function(){\r\n    this.buildAllItems();\r\n    if(this.camera){\r\n        this.camera.setup();\r\n    } else {\r\n        var cWidth = this.globalData.compSize.w;\r\n        var cHeight = this.globalData.compSize.h;\r\n        var i, len = this.threeDElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth,2) + Math.pow(cHeight,2)) + 'px';\r\n        }\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i],floatingContainer,this.globalData.comp,null);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = this.getBlendMode();\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    addMasks: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this, this.dynamicProperties);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore();\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.failed = false;\r\n    this.img = new Image();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.globalData.addPendingElement();\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.imageLoaded = function() {\r\n    this.globalData.elementLoaded();\r\n    if(this.assetData.w !== this.img.width || this.assetData.h !== this.img.height){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        if(imgRel>canvasRel){\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n};\r\n\r\nCVImageElement.prototype.imageFailed = function() {\r\n    this.failed = true;\r\n    this.globalData.elementLoaded();\r\n};\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n    var img = this.img;\r\n    img.addEventListener('load', this.imageLoaded.bind(this), false);\r\n    img.addEventListener('error', this.imageFailed.bind(this), false);\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    img.src = assetPath;\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    if (this.failed) {\r\n        return;\r\n    }\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this.dynamicProperties) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element, dynamicProperties){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3,dynamicProperties,null);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function (transform) {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compWidth, 0);\r\n                ctx.lineTo(this.element.globalData.compWidth, this.element.globalData.compHeight);\r\n                ctx.lineTo(0, this.element.globalData.compHeight);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,mat:new Matrix(),_matMdf:false,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties, true);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, dynamicProperties){\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        elements: []\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,dynamicProperties);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,dynamicProperties);\r\n    if(data.ty == 'st') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,dynamicProperties);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas',dynamicProperties);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n\r\n    } else {\r\n\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data, dynamicProperties) {\r\n    var elementData = {\r\n        transform : {\r\n            mat: new Matrix(),\r\n            opacity: 1,\r\n            _matMdf:false,\r\n            _opMdf:false,\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,dynamicProperties),\r\n            //mProps: PropertyFactory.getProp(this,data,2,null,dynamicProperties)\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,dynamicProperties)\r\n        },\r\n        elements: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data, dynamicProperties) {\r\n    var elementData = {\r\n        nodes:[],\r\n        trNodes:[],\r\n        tr:[0,0,0,0,0,0]\r\n    };\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    elementData.sh = ShapePropertyFactory.getShapeProp(this,data,ty,dynamicProperties);\r\n    this.shapes.push(elementData.sh);\r\n    this.addShapeToModifiers(elementData);\r\n    var j, jLen = this.stylesList.length;\r\n    var hasStrokes = false, hasFills = false;\r\n    for(j=0;j<jLen;j+=1){\r\n        if(!this.stylesList[j].closed){\r\n            this.stylesList[j].elements.push(elementData);\r\n            if(this.stylesList[j].type === 'st'){\r\n                hasStrokes = true;\r\n            }else{\r\n                hasFills = true;\r\n            }\r\n        }\r\n    }\r\n    elementData.st = hasStrokes;\r\n    elementData.fl = hasFills;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties, true);\r\n    len = this.dynamicProperties.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData,dynamicProperties, render){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownArrays = [], ownModifiers = [], processedPos, modifier;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], dynamicProperties);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownArrays.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,dynamicProperties, render);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], dynamicProperties);\r\n            }\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], dynamicProperties);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i],dynamicProperties);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData,dynamicProperties);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownArrays.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownArrays[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n\r\n    this.transformHelper.mat.reset();\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._matMdf = false;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n    if(parentTransform._matMdf || groupTransform.mProps._mdf || this._isFirstFrame) {\r\n        groupMatrix = groupTransform.mat;\r\n        groupMatrix.cloneFromProps(groupTransform.mProps.v.props);\r\n        groupTransform._matMdf = true;\r\n        props = parentTransform.mat.props;\r\n        groupMatrix.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n        if((type === 'st' && currentStyle.wi === 0) || !currentStyle.data._render || currentStyle.coOp === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st'){\r\n            ctx.strokeStyle = currentStyle.co;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        }else{\r\n            ctx.fillStyle = currentStyle.co;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st'){\r\n            ctx.beginPath();\r\n        }\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                    this.globalData.isDashed = true;\r\n                }else if(this.globalData.isDashed){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                    this.globalData.isDashed = false;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st'){\r\n                ctx.stroke();\r\n            }\r\n        }\r\n        if(type !== 'st'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData,groupTransform){\r\n    var len, i, j,jLen;\r\n    var redraw = groupTransform._matMdf || itemData.sh._mdf || this._isFirstFrame;\r\n    if(redraw) {\r\n        var paths = itemData.sh.paths, groupTransformMat = groupTransform.mat;\r\n        jLen = pathData._render === false ? 0 : paths._length;\r\n        var pathStringTransformed = itemData.trNodes;\r\n        pathStringTransformed.length = 0;\r\n        for(j=0;j<jLen;j+=1){\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i == 1) {\r\n                        pathStringTransformed.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    pathStringTransformed.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len == 1) {\r\n                    pathStringTransformed.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    pathStringTransformed.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    pathStringTransformed.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n                itemData.lStr = pathStringTransformed;\r\n            }\r\n\r\n        }\r\n\r\n        if (itemData.st) {\r\n            for (i = 0; i < 16; i += 1) {\r\n                itemData.tr[i] = groupTransform.mat.props[i];\r\n            }\r\n        }\r\n        itemData.trNodes = pathStringTransformed;\r\n\r\n    }\r\n};\r\n\r\n\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n    /*if(this.data.hasMask){\r\n     this.globalData.renderer.restore(true);\r\n     }*/\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nfunction HBaseElement(data,globalData,comp){}\r\nHBaseElement.prototype = {\r\n    checkBlendMode: function(){},\r\n    initRendererElement: function(){\r\n        this.baseElement = createTag('div');\r\n        if(this.data.hasMask) {\r\n            this.svgElement = createNS('svg');\r\n            this.layerElement = createNS('g');\r\n            this.maskedElement = this.layerElement;\r\n            this.svgElement.appendChild(this.layerElement);\r\n            this.baseElement.appendChild(this.svgElement);\r\n        } else {\r\n            this.layerElement = this.baseElement;\r\n        }\r\n        styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function(){\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n        this.transformedElement = this.baseElement;\r\n        this.maskedElement = this.layerElement;\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id',this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n    },\r\n    renderElement: function() {\r\n        if(this.finalTransform._matMdf){\r\n            this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS();\r\n        }\r\n        if(this.finalTransform._opMdf){\r\n            this.transformedElement.style.opacity = this.finalTransform.mProp.o.v;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        //If it is exported as hidden (data.hd === true) no need to render\r\n        //If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.layerElement = null;\r\n        this.transformedElement = null;\r\n        if(this.matteElement) {\r\n            this.matteElement = null;\r\n        }\r\n        if(this.maskManager) {\r\n            this.maskManager.destroy();\r\n            this.maskManager = null;\r\n        }\r\n    },\r\n    addMasks: function(){\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData, this.dynamicProperties);\r\n    },\r\n    setMatte: function(){}\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\nfunction HSolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function(){\r\n    var rect;\r\n    if(this.data.hasMask){\r\n        rect = createNS('rect');\r\n        rect.setAttribute('width',this.data.sw);\r\n        rect.setAttribute('height',this.data.sh);\r\n        rect.setAttribute('fill',this.data.sc);\r\n        this.svgElement.setAttribute('width',this.data.sw);\r\n        this.svgElement.setAttribute('height',this.data.sh);\r\n    } else {\r\n        rect = createTag('div');\r\n        rect.style.width = this.data.sw + 'px';\r\n        rect.style.height = this.data.sh + 'px';\r\n        rect.style.backgroundColor = this.data.sc;\r\n    }\r\n    this.layerElement.appendChild(rect);\r\n};\r\n\r\nfunction HCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this.dynamicProperties) : {_placeholder:true};\r\n    \r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function(){\r\n    this._createBaseContainerElements();\r\n    //divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n    if(this.data.hasMask){\r\n        this.svgElement.setAttribute('width',this.data.w);\r\n        this.svgElement.setAttribute('height',this.data.h);\r\n        this.transformedElement = this.baseElement;\r\n    } else {\r\n        this.transformedElement = this.layerElement;\r\n    }\r\n};\r\nfunction HShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n}\r\nextendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function(){\r\n    var cont;\r\n    if (this.data.hasMask) {\r\n        this.layerElement.appendChild(this.shapesContainer);\r\n        cont = this.svgElement;\r\n    } else {\r\n        cont = createNS('svg');\r\n        var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n        cont.setAttribute('width',size.w);\r\n        cont.setAttribute('height',size.h);\r\n        cont.appendChild(this.shapesContainer);\r\n        this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,this.dynamicProperties,0, [], true);\r\n    this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function() {\r\n    this._renderShapeFrame();\r\n\r\n    if(!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n        var boundingBox = this.shapeCont.getBBox();\r\n        var changed = false;\r\n        if(this.currentBBox.w !== boundingBox.width){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.shapeCont.setAttribute('width',boundingBox.width);\r\n            changed = true;\r\n        }\r\n        if(this.currentBBox.h !== boundingBox.height){\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.shapeCont.setAttribute('height',boundingBox.height);\r\n            changed = true;\r\n        }\r\n        if(changed  || this.currentBBox.x !== boundingBox.x  || this.currentBBox.y !== boundingBox.y){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.currentBBox.x = boundingBox.x;\r\n            this.currentBBox.y = boundingBox.y;\r\n\r\n            this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n\r\n};\r\nfunction HTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data,globalData,comp);\r\n\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function(){\r\n    this.isMasked = this.checkMasks();\r\n    if(this.isMasked){\r\n        this.renderType = 'svg';\r\n        this.compW = this.comp.data.w;\r\n        this.compH = this.comp.data.h;\r\n        this.svgElement.setAttribute('width',this.compW);\r\n        this.svgElement.setAttribute('height',this.compH);\r\n        var g = createNS('g');\r\n        this.maskedElement.appendChild(g);\r\n        this.innerElem = g;\r\n    } else {\r\n        this.renderType = 'html';\r\n        this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(this.textProperty.currentData.l ? this.textProperty.currentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    innerElemStyle.color = innerElemStyle.fill = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    if(documentData.sc){\r\n        innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n        innerElemStyle.strokeWidth = documentData.sw+'px';\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(!this.globalData.fontManager.chars){\r\n        innerElemStyle.fontSize = documentData.finalSize+'px';\r\n        innerElemStyle.lineHeight = documentData.finalSize+'px';\r\n        if(fontData.fClass){\r\n            this.innerElem.className = fontData.fClass;\r\n        } else {\r\n            innerElemStyle.fontFamily = fontData.fFamily;\r\n            var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n            innerElemStyle.fontStyle = fStyle;\r\n            innerElemStyle.fontWeight = fWeight;\r\n        }\r\n    }\r\n    var i, len;\r\n\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan,tParent,tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '';\r\n    var cnt = 0;\r\n    for (i = 0;i < len ;i += 1) {\r\n        if(this.globalData.fontManager.chars){\r\n            if(!this.textPaths[cnt]){\r\n                tSpan = createNS('path');\r\n                tSpan.setAttribute('stroke-linecap', 'butt');\r\n                tSpan.setAttribute('stroke-linejoin','round');\r\n                tSpan.setAttribute('stroke-miterlimit','4');\r\n            } else {\r\n                tSpan = this.textPaths[cnt];\r\n            }\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tCont = tParent.children[0];\r\n                } else {\r\n\r\n                    tParent = createTag('div');\r\n                    tCont = createNS('svg');\r\n                    tCont.appendChild(tSpan);\r\n                    styleDiv(tParent);\r\n                }\r\n            }\r\n        }else{\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tSpan = this.textPaths[cnt];\r\n                } else {\r\n                    tParent = createTag('span');\r\n                    styleDiv(tParent);\r\n                    tSpan = createTag('span');\r\n                    styleDiv(tSpan);\r\n                    tParent.appendChild(tSpan);\r\n                }\r\n            } else {\r\n                tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n            }\r\n        }\r\n        //tSpan.setAttribute('visibility', 'hidden');\r\n        if(this.globalData.fontManager.chars){\r\n            var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n            var shapeData;\r\n            if(charData){\r\n                shapeData = charData.data;\r\n            } else {\r\n                shapeData = null;\r\n            }\r\n            matrixHelper.reset();\r\n            if(shapeData && shapeData.shapes){\r\n                shapes = shapeData.shapes[0].it;\r\n                matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n                shapeStr = this.createPathShape(matrixHelper,shapes);\r\n                tSpan.setAttribute('d',shapeStr);\r\n            }\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                if(shapeData && shapeData.shapes){\r\n\r\n                    //document.body.appendChild is needed to get exact measure of shape\r\n                    document.body.appendChild(tCont);\r\n                    var boundingBox = tCont.getBBox();\r\n                    tCont.setAttribute('width',boundingBox.width + 2);\r\n                    tCont.setAttribute('height',boundingBox.height + 2);\r\n                    tCont.setAttribute('viewBox',(boundingBox.x-1)+' '+ (boundingBox.y-1)+' '+ (boundingBox.width+2)+' '+ (boundingBox.height+2));\r\n                    tCont.style.transform = tCont.style.webkitTransform = 'translate(' + (boundingBox.x-1) + 'px,' + (boundingBox.y-1) + 'px)';\r\n\r\n                    letters[i].yOffset = boundingBox.y-1;\r\n                    tParent.appendChild(tCont);\r\n\r\n                } else{\r\n                    tCont.setAttribute('width',1);\r\n                    tCont.setAttribute('height',1);\r\n                }\r\n            }else{\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }else{\r\n            tSpan.textContent = letters[i].val;\r\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                //\r\n                tSpan.style.transform = tSpan.style.webkitTransform = 'translate3d(0,'+ -documentData.finalSize/1.2+'px,0)';\r\n            } else {\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }\r\n        //\r\n        if(!this.isMasked){\r\n            this.textSpans[cnt] = tParent;\r\n        }else{\r\n            this.textSpans[cnt] = tSpan;\r\n        }\r\n        this.textSpans[cnt].style.display = 'block';\r\n        this.textPaths[cnt] = tSpan;\r\n        cnt += 1;\r\n    }\r\n    while(cnt < this.textSpans.length){\r\n        this.textSpans[cnt].style.display = 'none';\r\n        cnt += 1;\r\n    }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function() {\r\n\r\n    if(this.data.singleShape){\r\n        if(!this._isFirstFrame && !this.lettersChangedFlag){\r\n            return;\r\n        } else {\r\n            // Todo Benchmark if using this is better than getBBox\r\n             if(this.isMasked && this.finalTransform._matMdf){\r\n                 this.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+ -this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);\r\n                this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n             }\r\n        }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if(!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag){\r\n        return;\r\n    }\r\n    var  i,len, count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter, textSpan, textPath;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            count += 1;\r\n            continue;\r\n        }\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n        if(!this.isMasked){\r\n            textSpan.style.transform = textSpan.style.webkitTransform = renderedLetter.m;\r\n        }else{\r\n            textSpan.setAttribute('transform',renderedLetter.m);\r\n        }\r\n        ////textSpan.setAttribute('opacity',renderedLetter.o);\r\n        textSpan.style.opacity = renderedLetter.o;\r\n        if(renderedLetter.sw){\r\n            textPath.setAttribute('stroke-width',renderedLetter.sw);\r\n        }\r\n        if(renderedLetter.sc){\r\n            textPath.setAttribute('stroke',renderedLetter.sc);\r\n        }\r\n        if(renderedLetter.fc){\r\n            textPath.setAttribute('fill',renderedLetter.fc);\r\n            textPath.style.color = renderedLetter.fc;\r\n        }\r\n    }\r\n\r\n    if(this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)){\r\n        var boundingBox = this.innerElem.getBBox();\r\n\r\n        if(this.currentBBox.w !== boundingBox.width){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.svgElement.setAttribute('width',boundingBox.width);\r\n        }\r\n        if(this.currentBBox.h !== boundingBox.height){\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.svgElement.setAttribute('height',boundingBox.height);\r\n        }\r\n\r\n        var margin = 1;\r\n        if(this.currentBBox.w !== (boundingBox.width + margin*2) || this.currentBBox.h !== (boundingBox.height + margin*2)  || this.currentBBox.x !== (boundingBox.x - margin)  || this.currentBBox.y !== (boundingBox.y - margin)){\r\n            this.currentBBox.w = boundingBox.width + margin*2;\r\n            this.currentBBox.h = boundingBox.height + margin*2;\r\n            this.currentBBox.x = boundingBox.x - margin;\r\n            this.currentBBox.y = boundingBox.y - margin;\r\n\r\n            this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n};\r\nfunction HImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement], HImageElement);\r\n\r\n\r\nHImageElement.prototype.createContent = function(){\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if(this.data.hasMask){\r\n        this.imageElem = createNS('image');\r\n        this.imageElem.setAttribute('width',this.assetData.w+\"px\");\r\n        this.imageElem.setAttribute('height',this.assetData.h+\"px\");\r\n        this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n        this.layerElement.appendChild(this.imageElem);\r\n        this.baseElement.setAttribute('width',this.assetData.w);\r\n        this.baseElement.setAttribute('height',this.assetData.h);\r\n    } else {\r\n        this.layerElement.appendChild(img);\r\n    }\r\n    img.src = assetPath;\r\n    if(this.data.ln){\r\n        this.innerElem.setAttribute('id',this.data.ln);\r\n    }\r\n};\r\nfunction HCameraElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initBaseData(data,globalData,comp);\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this,data.pe,0,0,this.dynamicProperties);\r\n    if(data.ks.p.s){\r\n        this.px = getProp(this,data.ks.p.x,1,0,this.dynamicProperties);\r\n        this.py = getProp(this,data.ks.p.y,1,0,this.dynamicProperties);\r\n        this.pz = getProp(this,data.ks.p.z,1,0,this.dynamicProperties);\r\n    }else{\r\n        this.p = getProp(this,data.ks.p,1,0,this.dynamicProperties);\r\n    }\r\n    if(data.ks.a){\r\n        this.a = getProp(this,data.ks.a,1,0,this.dynamicProperties);\r\n    }\r\n    if(data.ks.or.k.length && data.ks.or.k[0].to){\r\n        var i,len = data.ks.or.k.length;\r\n        for(i=0;i<len;i+=1){\r\n            data.ks.or.k[i].to = null;\r\n            data.ks.or.k[i].ti = null;\r\n        }\r\n    }\r\n    this.or = getProp(this,data.ks.or,1,degToRads,this.dynamicProperties);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this,data.ks.rx,0,degToRads,this.dynamicProperties);\r\n    this.ry = getProp(this,data.ks.ry,0,degToRads,this.dynamicProperties);\r\n    this.rz = getProp(this,data.ks.rz,0,degToRads,this.dynamicProperties);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true;\r\n}\r\nextendPrototype([BaseElement, FrameElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function() {\r\n    var i, len = this.comp.threeDElements.length, comp;\r\n    for(i=0;i<len;i+=1){\r\n        //[perspectiveElem,container]\r\n        comp = this.comp.threeDElements[i];\r\n        comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n        comp.container.style.transformOrigin = comp.container.style.mozTransformOrigin = comp.container.style.webkitTransformOrigin = \"0px 0px 0px\";\r\n        comp.perspectiveElem.style.transform = comp.perspectiveElem.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function(){\r\n};\r\n\r\nHCameraElement.prototype.hide = function(){\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function(){\r\n    var _mdf = this._isFirstFrame;\r\n    var i, len;\r\n    if(this.hierarchy){\r\n        len = this.hierarchy.length;\r\n        for(i=0;i<len;i+=1){\r\n            _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n        }\r\n    }\r\n    if(_mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n        this.mat.reset();\r\n\r\n        if(this.p){\r\n            this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);\r\n        }else{\r\n            this.mat.translate(-this.px.v,-this.py.v,this.pz.v);\r\n        }\r\n        if(this.a){\r\n            var diffVector = [this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]];\r\n            var mag = Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));\r\n            //var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n            var lookDir = [diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];\r\n            var lookLengthOnXZ = Math.sqrt( lookDir[2]*lookDir[2] + lookDir[0]*lookDir[0] );\r\n            var m_rotationX = (Math.atan2( lookDir[1], lookLengthOnXZ ));\r\n            var m_rotationY = (Math.atan2( lookDir[0], -lookDir[2]));\r\n            this.mat.rotateY(m_rotationY).rotateX(-m_rotationX);\r\n\r\n        }\r\n        this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n        this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n        this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);\r\n        this.mat.translate(0,0,this.pe.v);\r\n        if(this.hierarchy){\r\n            var mat;\r\n            len = this.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                mat = this.hierarchy[i].finalTransform.mProp.iv.props;\r\n                this.mat.transform(mat[0],mat[1],mat[2],mat[3],mat[4],mat[5],mat[6],mat[7],mat[8],mat[9],mat[10],mat[11],-mat[12],-mat[13],mat[14],mat[15]);\r\n            }\r\n        }\r\n        if(!this._prevMat.equals(this.mat)) {\r\n            len = this.comp.threeDElements.length;\r\n            var comp;\r\n            for(i=0;i<len;i+=1){\r\n                comp = this.comp.threeDElements[i];\r\n                comp.container.style.transform = comp.container.style.webkitTransform = this.mat.toCSS();\r\n            }\r\n            this.mat.clone(this._prevMat);\r\n        }\r\n    }\r\n    this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function(){\r\n};\r\nHCameraElement.prototype.initExpressions = function(){};\r\nHCameraElement.prototype.getBaseElement = function(){return null;};\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function(){};\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function duplicatePropertyValue(value, mult) {\r\n        mult = mult || 1;\r\n\r\n        if (typeof value === 'number'  || value instanceof Number) {\r\n            return value * mult;\r\n        } else if(value.i) {\r\n            return shape_pool.clone(value);\r\n        } else {\r\n            var arr = createTypedArray('float32', value.length);\r\n            var i, len = value.length;\r\n            for (i = 0; i < len; i += 1) {\r\n                arr[i] = value[i] * mult;\r\n            }\r\n            return arr;\r\n        }\r\n    }\r\n\r\n    function isTypeOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if(isTypeOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n    }\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string'  || b instanceof Number)) {\r\n            return a + b;\r\n        }\r\n        if(isTypeOfArray(a) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )){\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && isTypeOfArray(b)){\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if(isTypeOfArray(a) && isTypeOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( isTypeOfArray(a) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )){\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) &&  isTypeOfArray(b)){\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if(isTypeOfArray(a) && isTypeOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && typeof (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if(isTypeOfArray(a) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && isTypeOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number )) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if(isTypeOfArray(a) && (tOfB === 'number' || tOfB === 'boolean' || tOfB === 'string' || b instanceof Number  )){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if((tOfA === 'number' || tOfA === 'boolean' || tOfA === 'string' || a instanceof Number ) && isTypeOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            return linear(t,0,1,tMin,tMax);\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        inTangents = inTangents && inTangents.length ? inTangents : points;\r\n        outTangents = outTangents && outTangents.length ? outTangents : points;\r\n        var path = shape_pool.newElement();\r\n        var i, len = points.length;\r\n        path.setPathData(closed, len);\r\n        for(i = 0; i < len; i += 1) {\r\n            path.setTripleAt(points[i][0],points[i][1],outTangents[i][0] + points[i][0],outTangents[i][1] + points[i][1],inTangents[i][0] + points[i][0],inTangents[i][1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,content,effect;\r\n        var thisProperty = property;\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var loopIn, loop_in, loopOut, loop_out;\r\n        var toWorld,fromWorld,fromComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime;\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            return -(val2-val1) * t*(t-2) + val1;\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            return (val2-val1)*t*t + val1;\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate\r\n            };\r\n            var arr;\r\n            if(ind === data.k.length - 1 && !data.k[ind].h){\r\n                arr = data.k[ind-1].e;\r\n            }else{\r\n                arr = data.k[ind].s;\r\n            }\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        var time, velocity, value, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        function executeExpression() {\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return;\r\n            }\r\n            if(this.lock){\r\n                this.v = duplicatePropertyValue(this.pv,this.mult);\r\n                return true;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                anchorPoint = transform.anchorPoint;\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            this.lock = true;\r\n            if (this.getPreValue) {\r\n                this.getPreValue();\r\n            }\r\n            value = this.pv;\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                this.v = shape_pool.clone(scoped_bm_rt.v);\r\n            } else {\r\n                this.v = scoped_bm_rt;\r\n            }\r\n\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n            var i,len;\r\n            if(this.mult){\r\n                if(this.propType === 'unidimensional'){\r\n                    this.v *= this.mult;\r\n                }else if(this.v.length === 1){\r\n                    this.v = this.v[0] * this.mult;\r\n                }else{\r\n                    len = this.v.length;\r\n                    if(value === this.v){\r\n                        this.v = len === 2 ? [value[0],value[1]] : [value[0],value[1],value[2]];\r\n                    }\r\n                    for(i = 0; i < len; i += 1){\r\n                        this.v[i] *= this.mult;\r\n                    }\r\n                }\r\n            }\r\n            if (this.v.length === 1) {\r\n                this.v = this.v[0];\r\n            }\r\n            if (this.propType === 'unidimensional') {\r\n                if(this.lastValue !== this.v){\r\n                    this.lastValue = this.v;\r\n                    this._mdf = true;\r\n                }\r\n            } else if (this.propType === 'shape') {\r\n                if (!shapesEqual(this.v, this.localShapeCollection.shapes[0])) {\r\n                    this._mdf = true;\r\n                    this.localShapeCollection.releaseShapes();\r\n                    this.localShapeCollection.addShape(shape_pool.clone(this.v));\r\n                }\r\n            } else {\r\n                len = this.v.length;\r\n                for (i = 0; i < len; i += 1) {\r\n                    if (this.v[i] !== this.lastValue[i]) {\r\n                        this.lastValue[i] = this.v[i];\r\n                        this._mdf = true;\r\n                    }\r\n                }\r\n            }\r\n            this.lock = false;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            frameNum *= this.elem.globalData.frameRate;\r\n            frameNum -= this.offsetTime;\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this.pv, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.01;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            if(prop.getValue) {\r\n                prop.getPreValue = prop.getValue;\r\n            }\r\n\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.getValue = prop.initiateExpression(elem,data,prop);\r\n        }\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        //console.log('time:', time)\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n\r\n    }\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.getValue();\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            searchExpressions.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = setGroupProperty;\r\n        };\r\n    }());\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, arr) {\r\n        var prop = getTransformProperty(elem, data, arr);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, arr){\r\n        var prop = propertyGetProp(elem,data,type, mult, arr);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.getVelocityAtTime = getVelocityAtTime;\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        var isAdded = prop.k;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        searchExpressions(elem,data,prop);\r\n        if(!isAdded && prop.x){\r\n            arr.push(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            frameNum *= this.elem.globalData.frameRate;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, false, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: setGroupProperty,\r\n        getValueAtTime: getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        var isAdded = prop.k;\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(!isAdded && prop.x){\r\n            arr.push(prop);\r\n        }\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n    TextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n        if(data.t === 1){\r\n            return new TextExpressionSelectorProp(elem, data,arr);\r\n        } else {\r\n            return propertyGetTextProp(elem,data,arr);\r\n        }\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.comp = this.elem.comp;\r\n            if(this.getValue) {\r\n                this.getPreValue = this.getValue;\r\n            }\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.getValue = this.getExpressionValue;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n        this.kf = this.searchExpressions() || this.data.d.k.length > 1;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.getExpressionValue = function(num){\r\n        this.calculateExpression();\r\n        if(this._mdf) {\r\n            this.currentData.t = this.v.toString();\r\n            this.completeTextData(this.currentData);\r\n        }\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(pathInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else{\r\n                //console.log(shapes[i].ty);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n       interfaceFunction.propertyGroup = function(val){\r\n           if(val === 1){\r\n               return interfaceFunction;\r\n           } else{\r\n               return propertyGroup(val-1);\r\n           }\r\n       };\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = function(val){\r\n            if(val === 1){\r\n                return interfaceFunction;\r\n            } else{\r\n                return propertyGroup(val-1);\r\n            }\r\n        };\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: function() {\r\n                    return ExpressionValue(view.c, 1 / view.c.mult, 'color');\r\n                }\r\n            },\r\n            'opacity': {\r\n                get: function() {\r\n                    return ExpressionValue(view.o, 100);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(propertyGroup);\r\n        view.o.setGroupProperty(propertyGroup);\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val === 1){\r\n                return ob;\r\n            } else{\r\n                return propertyGroup(val-1);\r\n            }\r\n        }\r\n        function _dashPropertyGroup(val){\r\n            if(val === 1){\r\n                return dashOb;\r\n            } else{\r\n                return _propertyGroup(val-1);\r\n            }\r\n        }\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: function(){\r\n                    return ExpressionValue(view.d.dataProps[i].p);\r\n                }\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: function() {\r\n                    return ExpressionValue(view.c, 1 / view.c.mult, 'color');\r\n                }\r\n            },\r\n            'opacity': {\r\n                get: function() {\r\n                    return ExpressionValue(view.o, 100);\r\n                }\r\n            },\r\n            'strokeWidth': {\r\n                get: function() {\r\n                    return ExpressionValue(view.w);\r\n                }\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(_propertyGroup);\r\n        view.o.setGroupProperty(_propertyGroup);\r\n        view.w.setGroupProperty(_propertyGroup);\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(_propertyGroup);\r\n        view.e.setGroupProperty(_propertyGroup);\r\n        view.o.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: function() {\r\n                    return ExpressionValue(view.s, 1 / view.s.mult);\r\n                }\r\n            },\r\n            'end': {\r\n                get: function() {\r\n                    return ExpressionValue(view.e, 1 / view.e.mult);\r\n                }\r\n            },\r\n            'offset': {\r\n                get: function() {\r\n                    return ExpressionValue(view.o);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        view.transform.mProps.o.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.p.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.a.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.s.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.r.setGroupProperty(_propertyGroup);\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(_propertyGroup);\r\n            view.transform.mProps.sa.setGroupProperty(_propertyGroup);\r\n        }\r\n        view.transform.op.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.o, 1/view.transform.mProps.o.mult);\r\n                }\r\n            },\r\n            'position': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.p);\r\n                }\r\n            },\r\n            'anchorPoint': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.a);\r\n                }\r\n            },\r\n            'scale': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.s, 1 / view.transform.mProps.s.mult);\r\n                }\r\n            },\r\n            'rotation': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.r, 1 / view.transform.mProps.r.mult);\r\n                }\r\n            },\r\n            'skew': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.sk);\r\n                }\r\n            },\r\n            'skewAxis': {\r\n                get: function(){\r\n                    return ExpressionValue(view.transform.mProps.sa);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(_propertyGroup);\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.s);\r\n                }\r\n            },\r\n            'position': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.p);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(_propertyGroup);\r\n        prop.os.setGroupProperty(_propertyGroup);\r\n        prop.pt.setGroupProperty(_propertyGroup);\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        prop.r.setGroupProperty(_propertyGroup);\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(_propertyGroup);\r\n            prop.is.setGroupProperty(_propertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: function() {\r\n                    return ExpressionValue(prop.p);\r\n                }\r\n            },\r\n            'rotation': {\r\n                get: function() {\r\n                    return ExpressionValue(prop.r, 1 / prop.r.mult);\r\n                }\r\n            },\r\n            'points': {\r\n                get: function() {\r\n                    return ExpressionValue(prop.pt);\r\n                }\r\n            },\r\n            'outerRadius': {\r\n                get: function() {\r\n                    return ExpressionValue(prop.or);\r\n                }\r\n            },\r\n            'outerRoundness': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.os);\r\n                }\r\n            },\r\n            'innerRadius': {\r\n                get: function(){\r\n                    if(!prop.ir){\r\n                        return 0;\r\n                    }\r\n                    return ExpressionValue(prop.ir);\r\n                }\r\n            },\r\n            'innerRoundness': {\r\n                get: function(){\r\n                    if(!prop.is){\r\n                        return 0;\r\n                    }\r\n                    return ExpressionValue(prop.is, 1 / prop.is.mult);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        prop.s.setGroupProperty(_propertyGroup);\r\n        prop.r.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.p);\r\n                }\r\n            },\r\n            'roundness': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.r);\r\n                }\r\n            },\r\n            'size': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.s);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: function() {\r\n                    return ExpressionValue(prop.rd);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(_propertyGroup);\r\n        prop.o.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.c);\r\n                }\r\n            },\r\n            'offset': {\r\n                get: function(){\r\n                    return ExpressionValue(prop.o);\r\n                }\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function pathInterfaceFactory(shape,view,propertyGroup){\r\n        var prop = view.sh;\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        prop.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n                return interfaceFunction.path;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'path': {\r\n                get: function(){\r\n                    if(prop.k){\r\n                        prop.getValue();\r\n                    }\r\n                    return prop;\r\n                }\r\n            },\r\n            'shape': {\r\n                get: function(){\r\n                    if(prop.k){\r\n                        prop.getValue();\r\n                    }\r\n                    return prop;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'ix': { value: shape.ix },\r\n            'mn': { value: shape.mn }\r\n        });\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                return interfaces[value-1];\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroup;\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction);\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(){\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(elem.textProperty.currentData.t !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n    function toWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if(time) {\r\n            //Todo implement value at time on transform properties\r\n            //transformMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        }\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n        }\r\n        return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if(time) {\r\n            //Todo implement value at time on transform properties\r\n            //transformMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        }\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                    return _thisLayerFunction.effect;\r\n            }\r\n        }\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function (){\r\n    return function(comp){\r\n        function _thisLayerFunction(name){\r\n            var i=0, len = comp.layers.length;\r\n            while(i<len){\r\n                if(comp.layers[i].nm === name || comp.layers[i].ind === name){\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value:comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1/comp.globalData.frameRate;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: function(){\r\n                if(transform.r) {\r\n                    return ExpressionValue(transform.r, 1/degToRads);\r\n                } else {\r\n                    return ExpressionValue(transform.rz, 1/degToRads);\r\n                }\r\n            }\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.s, 100);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return ExpressionValue(transform.p);\r\n                } else {\r\n                    return [transform.px.v, transform.py.v, transform.pz ? transform.pz.v : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.px);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.py);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.pz);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.a);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.o, 100);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.sk);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.sa);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: function () {\r\n                return ExpressionValue(transform.or);\r\n            }\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame) {\r\n                        this.compositions[i].prepareFrame(this.compositions[i].data.xt ? this.currentFrame : this.compositions[i].renderedFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            return function(name){\r\n                var effects = elem.data.ef, i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        function _propertyGroup(val) {\r\n            if(val === 1){\r\n               return groupInterface;\r\n            } else{\r\n               return propertyGroup(val-1);\r\n            }\r\n        }\r\n\r\n        var groupInterface = function(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            return effectElements[0]();\r\n        };\r\n\r\n        groupInterface.propertyGroup = _propertyGroup;\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(groupInterface, 'numProperties', {\r\n            get: function(){\r\n                return data.np;\r\n            }\r\n        });\r\n        groupInterface.active = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return ExpressionValue(element.p);\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(propertyGroup);\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n                if(this._mask.prop.k){\r\n                    this._mask.prop.getValue();\r\n                }\r\n                return this._mask.prop;\r\n            }\r\n        });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionValue = (function() {\r\n\treturn function(elementProp, mult, type) {\r\n        var expressionValue, arrayValue;\r\n\r\n\t\tif (elementProp.k) {\r\n            elementProp.getValue();\r\n        }\r\n        var i, len, arrValue, val;\r\n        if (type) {\r\n        \tif(type === 'color') {\r\n        \t\tlen = 4;\r\n                expressionValue = createTypedArray('float32', len);\r\n                arrValue = createTypedArray('float32', len);\r\n\t\t        for (i = 0; i < len; i += 1) {\r\n\t\t            expressionValue[i] = arrValue[i] = (mult && i < 3) ? elementProp.v[i] * mult : 1;\r\n\t\t        }\r\n\t        \texpressionValue.value = arrValue;\r\n        \t}\r\n        } else if (typeof elementProp.v === 'number' || elementProp.v instanceof Number){\r\n            val = mult ? elementProp.v * mult : elementProp.v;\r\n            expressionValue = new Number(val);\r\n            expressionValue.value = val;\r\n        } else {\r\n        \tlen = elementProp.v.length;\r\n            expressionValue = createTypedArray('float32', len);\r\n            arrValue = createTypedArray('float32', len);\r\n\t        for (i = 0; i < len; i += 1) {\r\n\t            expressionValue[i] = arrValue[i] = mult ? elementProp.v[i] * mult : elementProp.v[i];\r\n\t        }\r\n\t        expressionValue.value = arrValue;\r\n        }\r\n        \r\n        expressionValue.numKeys = elementProp.keyframes ? elementProp.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                return elementProp.keyframes[pos-1].t;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = elementProp.getValueAtTime;\r\n        expressionValue.propertyGroup = elementProp.propertyGroup;\r\n        return expressionValue;\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,dynamicProperties);\r\n}\r\nfunction AngleEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,dynamicProperties);\r\n}\r\nfunction ColorEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,dynamicProperties);\r\n}\r\nfunction PointEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,dynamicProperties);\r\n}\r\nfunction LayerIndexEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,dynamicProperties);\r\n}\r\nfunction MaskIndexEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,dynamicProperties);\r\n}\r\nfunction CheckboxEffect(data,elem, dynamicProperties){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,dynamicProperties);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(data,element,dynamicProperties){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element,dynamicProperties);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element,dynamicProperties){\r\n    this.dynamicProperties = [];\r\n    this.init(data,element,this.dynamicProperties);\r\n    if(this.dynamicProperties.length){\r\n        dynamicProperties.push(this);\r\n    }\r\n}\r\n\r\nGroupEffect.prototype.getValue = function(){\r\n    this._mdf = false;\r\n    var i, len = this.dynamicProperties.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.dynamicProperties[i].getValue();\r\n        this._mdf = this.dynamicProperties[i]._mdf || this._mdf;\r\n    }\r\n};\r\n\r\nGroupEffect.prototype.init = function(data,element,dynamicProperties){\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.effectElements = [];\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,dynamicProperties);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,dynamicProperties);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n    var lottiejs = {};\r\n\r\n    function setLocationHref (href) {\r\n        locationHref = href;\r\n    }\r\n    function play(animation){\r\n        animationManager.play(animation);\r\n    }\r\n\r\n    function pause(animation) {\r\n        animationManager.pause(animation);\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        animationManager.togglePause(animation);\r\n    }\r\n\r\n    function setSpeed(value, animation) {\r\n        animationManager.setSpeed(value, animation);\r\n    }\r\n\r\n    function setDirection(value, animation) {\r\n        animationManager.setDirection(value, animation);\r\n    }\r\n\r\n    function stop(animation) {\r\n        animationManager.stop(animation);\r\n    }\r\n\r\n    function searchAnimations() {\r\n        if (standalone === true) {\r\n            animationManager.searchAnimations(animationData, standalone, renderer);\r\n        } else {\r\n            animationManager.searchAnimations();\r\n        }\r\n    }\r\n\r\n    function registerAnimation(elem) {\r\n        return animationManager.registerAnimation(elem);\r\n    }\r\n\r\n    function resize() {\r\n        animationManager.resize();\r\n    }\r\n\r\n    /*function start() {\r\n        animationManager.start();\r\n    }*/\r\n\r\n    function goToAndStop(val, isFrame, animation) {\r\n        animationManager.goToAndStop(val, isFrame, animation);\r\n    }\r\n\r\n    function setSubframeRendering(flag) {\r\n        subframeEnabled = flag;\r\n    }\r\n\r\n    function loadAnimation(params) {\r\n        if (standalone === true) {\r\n            params.animationData = JSON.parse(animationData);\r\n        }\r\n        return animationManager.loadAnimation(params);\r\n    }\r\n\r\n    function destroy(animation) {\r\n        return animationManager.destroy(animation);\r\n    }\r\n\r\n    function setQuality(value) {\r\n        if (typeof value === 'string') {\r\n            switch (value) {\r\n                case 'high':\r\n                    defaultCurveSegments = 200;\r\n                    break;\r\n                case 'medium':\r\n                    defaultCurveSegments = 50;\r\n                    break;\r\n                case 'low':\r\n                    defaultCurveSegments = 10;\r\n                    break;\r\n            }\r\n        } else if (!isNaN(value) && value > 1) {\r\n            defaultCurveSegments = value;\r\n        }\r\n        if (defaultCurveSegments >= 50) {\r\n            roundValues(false);\r\n        } else {\r\n            roundValues(true);\r\n        }\r\n    }\r\n\r\n    function inBrowser() {\r\n        return typeof navigator !== 'undefined';\r\n    }\r\n\r\n    function installPlugin(type, plugin) {\r\n        if (type === 'expressions') {\r\n            expressionsPlugin = plugin;\r\n        }\r\n    }\r\n\r\n    function getFactory(name) {\r\n        switch (name) {\r\n            case \"propertyFactory\":\r\n                return PropertyFactory;\r\n            case \"shapePropertyFactory\":\r\n                return ShapePropertyFactory;\r\n            case \"matrix\":\r\n                return Matrix;\r\n        }\r\n    }\r\n    lottiejs.play = play;\r\n    lottiejs.pause = pause;\r\n    lottiejs.setLocationHref = setLocationHref;\r\n    lottiejs.togglePause = togglePause;\r\n    lottiejs.setSpeed = setSpeed;\r\n    lottiejs.setDirection = setDirection;\r\n    lottiejs.stop = stop;\r\n    lottiejs.searchAnimations = searchAnimations;\r\n    lottiejs.registerAnimation = registerAnimation;\r\n    lottiejs.loadAnimation = loadAnimation;\r\n    lottiejs.setSubframeRendering = setSubframeRendering;\r\n    lottiejs.resize = resize;\r\n    //lottiejs.start = start;\r\n    lottiejs.goToAndStop = goToAndStop;\r\n    lottiejs.destroy = destroy;\r\n    lottiejs.setQuality = setQuality;\r\n    lottiejs.inBrowser = inBrowser;\r\n    lottiejs.installPlugin = installPlugin;\r\n    lottiejs.__getFactory = getFactory;\r\n    lottiejs.version = '5.1.7';\r\n\r\n    function checkReady() {\r\n        if (document.readyState === \"complete\") {\r\n            clearInterval(readyStateCheckInterval);\r\n            searchAnimations();\r\n        }\r\n    }\r\n\r\n    function getQueryVariable(variable) {\r\n        var vars = queryString.split('&');\r\n        for (var i = 0; i < vars.length; i++) {\r\n            var pair = vars[i].split('=');\r\n            if (decodeURIComponent(pair[0]) == variable) {\r\n                return decodeURIComponent(pair[1]);\r\n            }\r\n        }\r\n    }\r\n    var standalone = '__[STANDALONE]__';\r\n    var animationData = '__[ANIMATIONDATA]__';\r\n    var renderer = '';\r\n    if (standalone) {\r\n        var scripts = document.getElementsByTagName('script');\r\n        var index = scripts.length - 1;\r\n        var myScript = scripts[index] || {\r\n            src: ''\r\n        };\r\n        var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n        renderer = getQueryVariable('renderer');\r\n    }\r\n    var readyStateCheckInterval = setInterval(checkReady, 100);\r\n    return lottiejs;\r\n}));","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","/**\n * Checks `value` to determine whether a default value should be returned in\n * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n * or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.14.0\n * @category Util\n * @param {*} value The value to check.\n * @param {*} defaultValue The default value.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * _.defaultTo(1, 10);\n * // => 1\n *\n * _.defaultTo(undefined, 10);\n * // => 10\n */\nfunction defaultTo(value, defaultValue) {\n  return (value == null || value !== value) ? defaultValue : value;\n}\n\nmodule.exports = defaultTo;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","export class Event {\r\n  constructor() {\r\n    this.bindings = {};\r\n  }\r\n\r\n  on(event, handler, once = false) {\r\n    var e = this.bindings[event];\r\n    var h = {\r\n      handler,\r\n      once\r\n    };\r\n    var index;\r\n\r\n    if (typeof e === 'undefined') {\r\n      this.bindings[event] = [ h ];\r\n    } else {\r\n      index = this.bindings[event].findIndex(el => handler.toString() === el.handler.toString());\r\n      if (index === -1) {\r\n        e.push(h);\r\n      }\r\n    }\r\n  }\r\n\r\n  off(event, handler = null) {\r\n    var index;\r\n\r\n    if (handler === null) {\r\n      delete this.bindings[event];\r\n    } else {\r\n      index = this.bindings[event].findIndex(el => handler.toString() === el.handler.toString());\r\n      this.bindings[event].splice(index, 1);\r\n    }\r\n  }\r\n\r\n  trigger(event, params) {\r\n    var e = this.bindings[event];\r\n\r\n    if (typeof e !== 'undefined') {\r\n      e.forEach(el => {\r\n        el.handler(params);\r\n        if (el.once) {\r\n          this.off(event, el.handler);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}","import bodymovin from 'lottie-web';\r\nimport isNumber from 'lodash/isnumber';\r\nimport isString from 'lodash/isstring';\r\nimport isBoolean from 'lodash/isboolean';\r\nimport defaultTo from 'lodash/defaultto';\r\nimport isUndefined from 'lodash/isundefined';\r\nimport find from 'lodash/find';\r\nimport { Event } from './event';\r\n\r\n/* eslint-disable */\r\nif (!Array.prototype.findIndex) {\r\n  Array.prototype.findIndex = function (predicate) {\r\n    if (this === null) {\r\n      throw new TypeError('Array.prototype.findIndex called on null or undefined');\r\n    }\r\n    if (typeof predicate !== 'function') {\r\n      throw new TypeError('predicate must be a function');\r\n    }\r\n    var list = Object(this);\r\n    var length = list.length >>> 0;\r\n    var thisArg = arguments[1];\r\n    var value;\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      value = list[i];\r\n      if (predicate.call(thisArg, value, i, list)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n}\r\n/* eslint-enable */\r\n\r\n/**\r\n * A player to run lottie-web animations.\r\n *\r\n * @class Player\r\n * @extends {Event}\r\n */\r\nclass Player extends Event {\r\n  /**\r\n   * Creates an instance of Player.\r\n   * @param {Object} options Options. see README.md\r\n   * @memberof Player\r\n   */\r\n  constructor(options) {\r\n    var delay;\r\n\r\n    super();\r\n    this.options = options;\r\n    this.scenes = options.scenes;\r\n    this._el = document.querySelector(options.container);\r\n    if (isNumber(this.options.loop)) {\r\n      this.animationCount = 0;\r\n    }\r\n    this._index = 0;\r\n\r\n    this._el.classList.add('player');\r\n\r\n    this._prepareScenes();\r\n\r\n    if (isBoolean(options.autoplay) && options.autoplay) {\r\n      this.play(this._index);\r\n    } else if (isNumber(options.autoplay)) { //\r\n      delay = Number(options.autoplay);\r\n      setTimeout(() => this.play(this._index), delay * 1000);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Plays a specific animation\r\n   *\r\n   * @param {String|Number} index Scene index or id.\r\n   * @returns {undefined}\r\n   * @memberof Player\r\n   */\r\n  play(index) {\r\n    var scene, anim, speed, reverse;\r\n\r\n\r\n    if (this.timer) { clearTimeout(this.timer); }\r\n\r\n    scene = this._getScene(index);\r\n\r\n    if (isUndefined(scene)) {\r\n      throw new Error(`Scene '${index}' undefined.`);\r\n    }\r\n\r\n    this._index = scene.index;\r\n\r\n    anim = scene.animation;\r\n    speed = defaultTo(scene.speed, 1);\r\n    reverse = defaultTo(scene.reverse, false);\r\n\r\n    if (this.actualScene) {\r\n      this.actualScene.container.classList.remove('active');\r\n      this.actualScene.animation.stop();\r\n\r\n      if (this.paused || this.playing) {\r\n        this._cleanSceneListeners(this.actualScene);\r\n      }\r\n    }\r\n\r\n    this.paused = false;\r\n    this.stopped = false;\r\n    this.playing = true;\r\n\r\n    scene.container.classList.add('active');\r\n    this.actualScene = scene;\r\n\r\n    anim.setSpeed(speed);\r\n    if (reverse) {\r\n      anim.goToAndStop(anim.totalFrames, true);\r\n      anim.setDirection(-1);\r\n    } else {\r\n      anim.goToAndStop(0, true);\r\n      anim.setDirection(1);\r\n    }\r\n\r\n    this._setFinishScenario(scene);\r\n\r\n    this.trigger('scene', scene);\r\n    scene.playing = true;\r\n    anim.play();\r\n  }\r\n\r\n  stop () {\r\n    if (!this.stopped && this.actualScene) {\r\n      if (this.timer) { clearTimeout(this.timer); }\r\n      this.stopped = true;\r\n      this._cleanSceneListeners(this.actualScene);\r\n      this.actualScene.container.classList.remove('active');\r\n      this.actualScene.animation.stop();\r\n      this._index = 0;\r\n      this.scenes[0].container.classList.add('active');\r\n    }\r\n  }\r\n\r\n  pause () {\r\n    if (!this.paused) {\r\n      this.actualScene.animation.pause();\r\n      this.paused = true;\r\n    } else {\r\n      this.actualScene.animation.play();\r\n      this.paused = false;\r\n    }\r\n  }\r\n\r\n  next() {\r\n    var scene = this.actualScene;\r\n\r\n    if (scene.loop && !isNumber(scene.loop)) {\r\n      this.trigger('sceneComplete', scene);\r\n    }\r\n\r\n    this.play(this._index + 1);\r\n  }\r\n\r\n  _cleanSceneListeners(scene) {\r\n    scene.listeners.forEach(fn => fn.call());\r\n  }\r\n  _setFinishScenario(scene) {\r\n    if (isBoolean(scene.loop) && !scene.loop) {\r\n      this._setEventListener(scene, 'complete', this._sceneFinishListener);\r\n    } else if (isNumber(scene.iterations)) {\r\n      this.counter = 0;\r\n      this._setEventListener(scene, 'loopComplete', this._loopIterationsListener);\r\n    } else if (isNumber(scene.duration)) {\r\n      this.timer = setTimeout(() => this._sceneFinish(scene), scene.duration * 1000);\r\n    } else {\r\n      this._setEventListener(scene, 'loopComplete', this._loopIterationsListener);\r\n    }\r\n  }\r\n\r\n  _loopIterationsListener () {\r\n    var scene = this.actualScene;\r\n\r\n    this.counter++;\r\n    this.trigger('loopComplete');\r\n    if (!isUndefined(scene.iterations)) {\r\n      if (this.counter >= scene.iterations) { this._sceneFinish(scene); }\r\n    }\r\n  }\r\n  _sceneFinishListener() {\r\n    this._sceneFinish(this.actualScene);\r\n  }\r\n\r\n  _hasMoreScenes(scene) {\r\n    return !isUndefined(this.scenes[scene.index + 1]);\r\n  }\r\n\r\n  _getScene(index) {\r\n    if (isString(index)) {\r\n      return this._getSceneFromId(index);\r\n    } else {\r\n      index = isNumber(index) ? index : 0;\r\n\r\n      if (index === 0) {\r\n        this.trigger('start');\r\n        this._el.classList.add('animation-playing');\r\n        this._el.classList.remove('animation-ended');\r\n      }\r\n\r\n      return  this.scenes[index];\r\n    }\r\n  }\r\n\r\n  _setEventListener(scene, evnt, fn) {\r\n    scene.listeners.push(scene.animation.addEventListener(evnt, fn.bind(this)));\r\n  }\r\n\r\n  _prepareScenes() {\r\n    // Prepare scenes\r\n    this.options.scenes.forEach((s, i) => {\r\n      var div = document.createElement('div');\r\n\r\n      div.classList.add('scene', `scene-${i}`, `scene-${s.id}`);\r\n      this._el.appendChild(div);\r\n      s.renderer = this.options.renderer || 'svg';\r\n      s.prerender = !!this.options.prerender;\r\n      s.container = div;\r\n      s.autoplay = false;\r\n      s.index = i;\r\n      s.player = this;\r\n      s.listeners = [];\r\n      if (isNumber(s.loop)) {\r\n        s.iterations = s.loop;\r\n        s.loop = true;\r\n      }\r\n\r\n      s.animation = bodymovin.loadAnimation(s);\r\n    });\r\n  }\r\n\r\n  _sceneFinish(scene) {\r\n    this._cleanSceneListeners(scene);\r\n    this.trigger('sceneComplete', scene);\r\n    scene.listeners = [];\r\n    scene.playing = false;\r\n    // scene.animation.stop();\r\n\r\n    if (this._hasMoreScenes(scene)) {\r\n      scene.container.classList.remove('active');\r\n      this.play(scene.index + 1);\r\n    } else if (isUndefined(this.options.loop) || (isBoolean(this.options.loop) && !this.options.loop)) {\r\n      this._complete();\r\n      if (this.options.chain instanceof Player) {\r\n        this.options.chain.play();\r\n      }\r\n    } else {\r\n      if (isNumber(this.animationCount)) {\r\n        if (this.animationCount === (this.options.loop - 1)) {\r\n          this._complete();\r\n          if (this.options.chain instanceof Player) {\r\n            this.options.chain.play();\r\n          }\r\n          return;\r\n        }\r\n        this.animationCount++;\r\n      }\r\n\r\n      this.play(0);\r\n    }\r\n  }\r\n\r\n  _complete() {\r\n    this.trigger('complete');\r\n    this.playing = false;\r\n    this._el.classList.remove('animation-playing');\r\n    this._el.classList.add('animation-ended');\r\n  }\r\n\r\n  _getSceneFromId(id) {\r\n    console.log('id =>', id);\r\n    return find(this.scenes, { id });\r\n  }\r\n}\r\n\r\n\r\nexport default Player;"],"names":["root","factory","window","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","test","navigator","userAgent","cachedColors","bm_rounder","Math","round","bm_rnd","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","floor","bm_max","max","bm_min","min","blitter","BMMath","ProjectInterface","i","propertyNames","Object","getOwnPropertyNames","len","length","random","val","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","n","c","t","d","this","type","currentTime","totalTime","direction","BMCompleteEvent","BMCompleteLoopEvent","currentLoop","totalLoops","BMSegmentStartEvent","f","firstFrame","totalFrames","BMDestroyEvent","target","randomString","chars","undefined","result","HSVtoRGB","h","s","v","r","g","b","p","q","RGBtoHSV","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","BaseEvent","prototype","triggerEvent","eventName","args","_cbs","addEventListener","callback","push","removeEventListener","bind","splice","createTypedArray","Uint8ClampedArray","Float32Array","Int16Array","value","arr","Array","apply","createNS","document","createElementNS","createTag","createElement","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","isNaN","setTransform","a","e","j","k","l","m","o","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","inversePoint","pt","determinant","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointArray","applyToPointStringified","toCSS","cssValue","to2dCSS","pool","math","nodecrypto","global","width","chunks","rngname","startdenom","significance","overflow","mask","copy","S","slice","mixkey","seed","key","smear","stringseed","charCodeAt","tostring","String","fromCharCode","options","shortseed","flatten","obj","depth","prop","typ","entropy","randomBytes","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","arc4","keylen","me","count","prng","int32","quick","double","pass","is_math_call","state","BezierFactory","ob","getBezierEasing","nm","str","replace","beziers","bezEasing","BezierEasing","NEWTON_ITERATIONS","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","get","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","attr","hasOwnProperty","getDescriptor","object","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","PointData","partial","partialLength","storedData","buildBezierData","keyData","to","ti","bezierName","bezierData","segmentLength","getDistancePerc","initPos","lengthPos","lPerc","dir","bezier_segment_points","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","id","setTimeout","clearTimeout","bez","dataFunctionManager","findCompLayers","comps","layers","__used","JSON","parse","stringify","completeShapes","jLen","ks","convertPathsToAbsoluteValues","it","path","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","pathData","paths","data","shapes","__converted","checkColors","iterateShapes","checkShapes","layerData","kLen","hasMask","maskProps","masksProperties","cl","moduleOb","completeData","fontManager","__complete","completeLayers","completed","tt","td","refId","singleShape","dataManager","FontManager","maxWaitingTime","emptyChar","w","size","combinedCharacters","setUpNode","font","family","parentNode","fontFamily","node","innerHTML","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","appendChild","body","offsetWidth","parent","createHelper","def","fontData","tHelper","fFamily","textContent","fClass","className","tCanvasHelper","getContext","concat","Font","fonts","typekitLoaded","loaded","initTime","now","getCombinedCharacterCodes","addChars","found","ch","addFonts","defs","list","fontArr","monoCase","sansCase","fPath","fOrigin","origin","rel","href","sc","setAttribute","helper","checkLoadedFonts","loadedCount","Typekit","load","async","active","removeChild","getCharData","char","console","warn","getFontByName","name","fName","measureText","fontName","PropertyFactory","initFrame","interpolateValue","frameNum","previousValue","caching","newValue","offsetTime","propType","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","ind","_lastBezierData","__fnct","segmentPerc","distanceInLine","lastFrame","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","constructor","sh","initP","endP","calculateMultidimensionalValueAtCurrentTime","renderResult","pv","mult","lastPValue","_mdf","calculateUnidimenstionalValueAtCurrentTime","getValueAtCurrentTime","elem","globalData","frameId","comp","renderedFrame","endTime","_caching","calculateValueAtCurrentTime","getNoValue","ValueProperty","kf","vel","getValue","MultiDimensionalProperty","lastValue","KeyframedValueProperty","st","_isFirstFrame","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","TransformProperty","dynamicProperties","px","py","pz","rx","ry","rz","or","sk","sa","applyToMatrix","mat","forceRender","v1","v2","autoOriented","getValueAtTime","frameRate","atan2","setInverted","inverted","iv","autoOrient","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","isCurrentRender","keyPropS","keyPropE","isHold","vertexValue","hasModified","resetShape","localShapeCollection","ShapeProperty","shape_pool","shapeCollection_pool","newShapeCollection","addShape","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","s1","_cw","_v","processKeys","StarShapeProperty","convertPolygonToPath","numPts","rad","roundness","os","perimSegment","currentAng","ox","oy","convertStarToPath","longFlag","longRad","shortRad","ir","longRound","shortRound","is","longPerimSegment","shortPerimSegment","convertToPath","RectShapeProperty","convertRectToPath","v0","getShapeProp","dataProp","keys","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","releaseShapes","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","distance","newPosPerc","index","tr","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","copies","ceil","group","ix","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","values","ImagePreloader","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","imagePath","indexOf","u","loadImage","img","src","loadAssets","cb","totalAssets","setPath","setAssetsPath","destroy","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_dynamicProperties","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","fStyle","fWeight","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","searchProperty","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","line","extra","an","animatorOffset","getMult","anIndexes","totalChars","add","rot","atan","update","updated","setCurrentData","_forceRender","textDocumentData","textKeys","completeTextData","buildFinalText","text","charactersArray","charAt","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","styles","toLowerCase","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","updateRange","newCharsFlag","textProperty","divisor","finalS","finalE","easer","ne","xe","tot","pool_factory","initialLength","_create","_release","_clone","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","config","svgElement","maskElement","layerElement","renderConfig","preserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","compSize","pendingElements","destroyed","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","mode","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","BaseElement","NullElement","initBaseData","initTransform","initHierarchy","SVGBaseElement","IShapeElement","ITextElement","ICompElement","IImageElement","getAssetData","initElement","ISolidElement","SVGCompElement","supports3d","tm","_placeholder","SVGTextElement","textSpans","SVGShapeElement","shapesData","stylesList","shapeModifiers","itemsData","processedElements","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feGaussianBlur","feOffset","feFlood","feComposite","originalNodeAdded","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","Error","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","configAnimation","animData","height","wrapper","fr","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","hide","show","finalMat","finalTransform","mProp","getMaskelement","pathNodes","pathString","pathShapeValue","_isParent","prepareProperties","isVisible","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","renderableEffectsManager","sourceRectAtTime","getLayerSize","initRendererElement","createContainerElements","addMasks","createContent","hd","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","ms","ost","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","blendModeEnums","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","getBlendMode","bm","setBlendMode","blendModeValue","baseElement","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","alphaRect","ln","cp","clipId","cpGroup","SVGEffects","addShapeToModifiers","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","buildShapeString","shapeString","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","elems","getElements","destroyElements","assetPath","setAttributeNS","textContainer","buildTextContents","textArray","textContents","currentTextContent","usesGlyphs","tSpan","cachedSpansLength","tElement","justify","time","textBox","getBBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","createStyleElement","elementData","lc","lj","ml","createGroupElement","createTransformElement","createShapeElement","ownTransformers","setElementStyles","container","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","renderFill","renderGradient","renderStroke","renderPath","itemData","pathStringTransformed","redraw","iterations","lLen","styleData","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","colorBlack","colorWhite","opacity","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","feFunc","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","call","outputDelta","inputDelta","join","col","_svgMatteSymbols","_svgMatteMaskCounter","SVGMatte3Effect","filterElem","ef","filters","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","animationManager","registeredAnimations","idled","playingAnimationsNum","_stopped","removeElement","ev","animItem","animation","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","first","resume","nowTime","elapsedTime","advanceTime","loadAnimation","params","setParams","setSpeed","setDirection","play","pause","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","goToAndStop","isFrame","isLoaded","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","_idle","CanvasRenderer","clearCanvas","context","dpr","devicePixelRatio","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","saved","cArrPos","cTr","cO","savedOp","CVBaseElement","CVImageElement","failed","Image","CVCompElement","CVMaskElement","hasMasks","CVShapeElement","CVSolidElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","HSolidElement","HCompElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HImageElement","HCameraElement","pe","_prevMat","HEffects","self","animType","rendererSettings","parseInt","autoloadSegments","substr","xhr","XMLHttpRequest","lastIndexOf","fileName","open","send","onreadystatechange","readyState","status","responseText","response","err","wrapperAttributes","attributes","getNamedItem","prerender","tf","loadNextSegment","trigger","shift","segmentPath","loadSegments","_this","imagePreloader","updaFrameModifier","waitForFontsLoaded","checkLoaded","checkFontsLoaded","elementLoaded","gotoFrame","setSubframe","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","playSegments","forceFlag","resetSegments","remove","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getAssets","ctxTransform","cProps","trProps","canvasContext","ctxOpacity","globalAlpha","restore","save","actionFlag","duplicate","blendMode","popped","mozTransformOrigin","isDashed","compWidth","compHeight","transformCanvas","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","canvas","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","resizerElem","threeDContainerData","build3dContainers","lastThreeDContainerData","svg","setup","cWidth","cHeight","perspective","webkitPerspective","floatingContainer","newLength","currentSavedOp","set","createElements","globalCompositeOperation","hideElement","showElement","widthCrop","heightCrop","ctx","imgW","imgH","imgRel","canvasRel","drawImage","imageFailed","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","co","wi","da","do","nodes","trNodes","hasStrokes","hasFills","fl","ownArrays","renderShapeTransform","parentTransform","groupTransform","groupMatrix","drawLayer","currentStyle","coOp","strokeStyle","lineCap","lineJoin","miterLimit","fillStyle","setLineDash","lineDashOffset","isMain","groupTransformMat","fillRect","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","boundingBox","changed","compW","compH","innerElemStyle","strokeWidth","lineHeight","tParent","tCont","textPath","margin","imageElem","diffVector","mag","lookDir","lookLengthOnXZ","m_rotationX","m_rotationY","Expressions","ExpressionManager","duplicatePropertyValue","Number","isTypeOfArray","shapesEqual","shape1","shape2","$bm_neg","tOfA","lenA","retArr","sum","tOfB","lenB","sub","mul","mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","rnd","createPath","inTangents","outTangents","initiateExpression","property","needsVelocity","_needsRandom","elemType","effect","thisProperty","frameDuration","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","toWorld","fromWorld","fromComp","fromCompToSurface","anchorPoint","thisLayer","thisComp","valueAtTime","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","wiggle","freq","amp","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","easeIn","nearestKey","keyTime","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","hasParent","executeExpression","frameExpressionId","lock","getPreValue","getStaticValueAtTime","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","nextLastValue","firstValue","nextFirstValue","_cachingAtTime","setGroupProperty","propertyGroup","searchExpressions","TextExpressionSelectorProp","getValueProxy","total","propertyGetProp","isAdded","propertyIndex","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","propertyGetTextProp","getExpressionValue","calculateExpression","iterateElements","view","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","pathInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaceFunction","interfaces","_name","mn","numProperties","cix","contentsInterfaceFactory","transformInterface","_propertyGroup","rotation","skewAxis","defineProperties","ExpressionValue","transformInterfaceFactory","defineProperty","np","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_sourceText","_thisLayerFunction","stringValue","_prevValue","toWorldMat","toComp","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","source","MaskManagerInterface","effects","pixelAspect","_thisFunction","xPosition","yPosition","zPosition","compositions","_thisProjectFunction","createGroupInterface","createValueInterface","groupInterface","en","effectsData","MaskInterface","_mask","_data","_masksInterfaces","elementProp","expressionValue","arrValue","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottiejs","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","clearInterval","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","version","scripts","myScript","setInterval","module","exports","lottie","bodymovin","freeGlobal","freeSelf","Function","Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","numberTag","isNumber","isArray","stringTag","isString","boolTag","isBoolean","defaultTo","defaultValue","isUndefined","listCacheClear","__data__","eq","other","assocIndexOf","array","arrayProto","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","clear","entry","has","stackClear","stackDelete","stackGet","stackHas","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","IE_PROTO","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","baseIsNative","getNative","Map","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","hash","map","string","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","setCacheAdd","setCacheHas","SetCache","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","stacked","seen","othValue","compared","othIndex","mapToArray","forEach","setToArray","dateTag","errorTag","mapTag","regexpTag","setTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","message","convert","arrayPush","baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","resIndex","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","baseTimes","iteratee","argsTag","baseIsArguments","isArguments","arguments","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","isLength","arrayTag","objectTag","weakMapTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","isPrototype","Ctor","overArg","arg","nativeKeys","baseKeys","isArrayLike","getAllKeys","equalObjects","objProps","objLength","skipCtor","objValue","objCtor","othCtor","DataView","Promise","Set","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","matchData","noCustomizer","srcValue","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","isSymbol","reIsDeepProp","reIsPlainProp","isKey","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","arrayMap","INFINITY","symbolToString","baseToString","castPath","toKey","baseGet","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","identity","baseProperty","basePropertyDeep","baseIteratee","createFind","findIndexFunc","collection","fromIndex","iterable","baseFindIndex","fromRight","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","isBinary","MAX_INTEGER","toFinite","toInteger","remainder","nativeMax","findIndex","find","Event","bindings","event","handler","once","el","off","thisArg","Player","delay","scenes","_el","querySelector","animationCount","_index","classList","_prepareScenes","scene","anim","speed","timer","_getScene","actualScene","paused","playing","_cleanSceneListeners","stopped","_setFinishScenario","listeners","fn","_setEventListener","_sceneFinishListener","counter","_loopIterationsListener","_this2","_sceneFinish","_getSceneFromId","evnt","_this3","player","_hasMoreScenes","_complete","chain","log"],"mappings":"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"}